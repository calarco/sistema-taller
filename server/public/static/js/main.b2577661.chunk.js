(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(48),o=a.n(c),l=(a(58),a(1)),i=a(10),s=a(11),u=(a(59),a(21)),m=a.n(u),d=a(49),p=a.n(d)()("/",{transports:["websocket"]}),f=m()().configure(Object(u.socketio)(p,{timeout:5e4})).configure(Object(u.authentication)({storage:window.localStorage})),b=a(2);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(e){e.user;var t=e.setUser,a=Object(n.useState)({user:"",password:"",loading:!1}),c=Object(l.a)(a,2),o=c[0],s=c[1],u=function(e){e.persist(),s((function(t){return v({},t,Object(b.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",{id:"Login"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(v({},o,{loading:!0})),f.authenticate({strategy:"local",email:o.user,password:o.password}).then((function(e){var a=e.user;return t(a)})).catch((function(e){console.error(e),s(v({},o,{password:"",loading:!1}))}))},className:"dialog"},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Iniciar sesion")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Usuario"),r.a.createElement("input",{type:"text",name:"user",value:o.user,onChange:u})),r.a.createElement("li",null,r.a.createElement("span",null,"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",value:o.password,onChange:u}))),r.a.createElement("div",{className:"dialog__buttons"},o.loading?r.a.createElement("div",{className:"spinner"}):void 0,r.a.createElement(i.b,{to:"/",className:"buttonLink"},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Ingresar",disabled:!!o.loading}))))},g=(a(95),a(52)),y=a.n(g);var O=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("div",{className:"header__logo"},r.a.createElement("img",{src:y.a,alt:"logo"}),r.a.createElement("span",null,"Calarco WEB")),r.a.createElement("div",{className:"links"},r.a.createElement(i.c,{exact:!0,to:"/",activeClassName:"header__link--active",className:"header__link"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"build"),r.a.createElement("span",null,"Gestion")),r.a.createElement(i.c,{to:"/turnos",activeClassName:"header__link--active",className:"header__link"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"date_range"),r.a.createElement("span",null,"Turnos")),r.a.createElement(i.c,{to:"/presupuestos",activeClassName:"header__link--active",className:"header__link"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"poll"),r.a.createElement("span",null,"Presupuestos"))),r.a.createElement(Se.Consumer,null,(function(e){var t=e.user,a=e.setUser;return r.a.createElement("button",{type:"button",className:"header__logout",onClick:function(){window.localStorage.removeItem("feathers-jwt"),a(null)}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"exit_to_app"),r.a.createElement("span",null,t.email))})),r.a.createElement("div",{className:"header__footer"},"\xa9 2019")))};a(96);var j=function(e){var t=e.vehiculo,a=e.cliente,c=e.fabricantes,o=e.modelos,i=e.setActivo,s=e.setDialog,u=Object(n.useState)({}),m=Object(l.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){a?p(a):f.service("api/clientes").get(t.clienteId).then((function(e){p(e)})).catch((function(e){console.error(e)}))}),[a,t]);var b=function(e){try{return c.data.find((function(t){return t.id===o.data.find((function(t){return t.id===e})).fabricanteId})).nombre+" "+o.data.find((function(t){return t.id===e})).nombre}catch(t){return"ERROR"}};return r.a.createElement("div",{className:"vehiculo"},r.a.createElement("ul",{onClick:function(){return i({lista:d.id,id:t.id,patente:t.patente,year:t.year,combustible:t.combustible,vin:t.vin,clienteId:d.id,nombre:d.nombre,apellido:d.apellido,auto:b(t.modeloId)})}},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"chevron_right")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("b",null,t.patente))),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("i",{className:"tag"},t.combustible),b(t.modeloId),r.a.createElement("span",null," - ",t.year)))),r.a.createElement("div",{className:"options"},r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"more_vert")),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){s({tipo:"editVehiculo",id:t.id,patente:t.patente,vin:t.vin,clienteId:d.id,nombre:d.nombre,apellido:d.apellido})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"edit"),"Editar"),r.a.createElement("li",{onClick:function(){s({tipo:"removeVehiculo",id:t.id,patente:t.patente})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"delete"),"Borrar"))))};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(e){var t=e.cliente,a=e.fabricantes,c=e.modelos,o=e.activo,i=e.setActivo,s=e.setDialog,u=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),m=Object(l.a)(u,2),d=m[0],p=m[1],b=(t.telefono||" ").split(" "),E=b[0],v=b[1];return Object(n.useEffect)((function(){t.id&&f.service("api/vehiculos").find({query:{$limit:100,clienteId:t.id}}).then((function(e){p(e)})).catch((function(e){console.error(e)}))}),[t]),r.a.createElement("div",{className:o.lista===t.id?"cliente activo":"cliente"},r.a.createElement("div",{className:"clienteDiv"},r.a.createElement("ul",{onClick:function(){return o.lista===t.id?i((function(e){return N({},e,{lista:0})})):i((function(e){return N({},e,{lista:t.id})}))}},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},o.lista===t.id?"expand_less":"expand_more")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("b",null,t.nombre," ",t.apellido)),r.a.createElement("p",null,r.a.createElement("span",null," ",t.empresa))),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("i",{className:"material-icons md-dark md-18"},"phone"),t.telefono),t.direccion&&r.a.createElement("p",null,r.a.createElement("i",{className:"material-icons md-dark md-18"},"house"),r.a.createElement("span",null,t.direccion)))),r.a.createElement("div",{className:"options"},r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"more_vert")),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){s({tipo:"addCliente",id:t.id,nombre:t.nombre,apellido:t.apellido,telefono1:E,telefono2:v,direccion:t.direccion,empresa:t.empresa})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"edit"),"Editar"),r.a.createElement("li",{onClick:function(){s({tipo:"removeCliente",id:t.id,nombre:t.nombre,apellido:t.apellido})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"delete"),"Borrar")))),r.a.createElement("div",{className:"subList"},d.data.length?r.a.createElement("div",{className:"vehiculos"},d.data.map((function(e){return r.a.createElement(j,{key:e.id,vehiculo:e,cliente:t,fabricantes:a,modelos:c,setActivo:i,setDialog:s})}))):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"directions_car"),r.a.createElement("span",null,"Sin vehiculos")),r.a.createElement("div",{className:"add"},r.a.createElement("button",{onClick:function(){s({tipo:"addVehiculo",clienteId:t.id,nombre:t.nombre,apellido:t.apellido})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add"),"Nuevo Vehiculo"))))};var S=function(e){var t=e.reparacion,a=e.setDialog,n={year:"numeric",month:"long",day:"numeric"};return r.a.createElement("div",{className:"reparacion"},r.a.createElement("div",{className:"fecha"},Intl.DateTimeFormat("default",n).format(new Date(t.createdAt))," ",r.a.createElement("i",null,t.km," km")),r.a.createElement("div",{className:"remove"},r.a.createElement("button",{type:"button",onClick:function(){a({tipo:"removeReparacion",id:t.id,fecha:Intl.DateTimeFormat("default",n).format(new Date(t.createdAt))})}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"delete_outline"))),r.a.createElement("h6",{className:"titulo"},t.reparacion),r.a.createElement("p",{className:"repuestos"},t.repuestos),r.a.createElement("div",{className:"costo"},r.a.createElement("span",null,"Repuestos:"),r.a.createElement("b",null,"$",t.costo)),r.a.createElement("div",{className:"labor"},r.a.createElement("span",null,"Mano de obra:"),r.a.createElement("b",null,"$",t.labor)),r.a.createElement("div",{className:"total"},r.a.createElement("span",null,"Total:"),r.a.createElement("b",null,"$",parseInt(t.costo,10)+parseInt(t.labor,10))))};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=function(e){e.dialog;var t=e.setDialog,a=e.activo,c=e.setActivo,o=e.busqueda,i=e.updateSearch,s=e.fabricantes,u=e.modelos,m=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),d=Object(l.a)(m,2),p=d[0],b=d[1],E=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),v=Object(l.a)(E,2),h=v[0],g=v[1],y=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),O=Object(l.a)(y,2),k=O[0],N=O[1],w=Object(n.useState)(!0),C=Object(l.a)(w,2),D=C[0],A=C[1];return Object(n.useEffect)((function(){return A(!0),o.search?(f.service("api/clientes").find({query:{$or:[{nombre:{$iLike:"".concat(o.search,"%")}},{apellido:{$iLike:"".concat(o.search,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){b(e),A(!1)})).catch((function(e){console.log("error",e)})),void f.service("api/vehiculos").find({query:{patente:{$iLike:"".concat(o.search,"%")},$limit:10,$sort:{updatedAt:-1}}}).then((function(e){g(e),A(!1)})).catch((function(e){console.log("error",e)}))):void f.service("api/clientes").find({query:{$limit:10,$sort:{updatedAt:-1}}}).then((function(e){b(e),g({total:0,limit:0,skip:0,data:[]}),A(!1)})).catch((function(e){console.log("error",e)}))}),[o]),Object(n.useEffect)((function(){a.id&&f.service("api/reparaciones").find({query:{vehiculoId:a.id,$limit:100,$sort:{createdAt:-1}}}).then((function(e){N(e)})).catch((function(e){console.log("error",e)}))}),[a]),r.a.createElement("div",{id:"SearchView",className:"App"},r.a.createElement("div",{id:"searchCard",style:{maxWidth:a.id&&"1260px"}},r.a.createElement("form",{autoComplete:"off",className:"buscar"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"search"),r.a.createElement("input",{type:"search",name:"search",placeholder:"Buscar",onChange:function(e){e.persist(),i(e.target.value),c((function(e){return P({},e,{lista:0})}))},value:o.search,autoFocus:!0}),r.a.createElement("div",{className:"fab"},r.a.createElement("button",{type:"button",onClick:function(){t({tipo:"addCliente"})}},r.a.createElement("i",{className:"material-icons md-light md-36"},"add")))),r.a.createElement("div",{className:"busqueda"},p.data.length||h.data.length||D?p.data.length||h.data.length||!D?void 0:r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"search"),r.a.createElement("h6",null,"No se encontraron resultados")),!D&&p.data.length?r.a.createElement("div",null,r.a.createElement("ul",{className:"busqueda__head"},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"person"),"Clientes"),r.a.createElement("li",null,"Ultimos 10")),p.data.map((function(e){return r.a.createElement(I,{key:e.id,cliente:e,fabricantes:s,modelos:u,activo:a,setActivo:c,setDialog:t})}))):void 0,!D&&h.data.length?r.a.createElement("div",null,r.a.createElement("ul",{className:"busqueda__head"},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"directions_car"),"Vehiculos"),r.a.createElement("li",null,"Ultimos 10")),h.data.map((function(e){return r.a.createElement(j,{key:e.id,vehiculo:e,fabricantes:s,modelos:u,setActivo:c,setDialog:t})}))):void 0),r.a.createElement("ul",{id:"vehiculoInfo"},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){c(P({},a,{id:""}))}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"arrow_back"))),r.a.createElement("li",null,r.a.createElement("b",null,a.patente),r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-dark md-18"},"info")),r.a.createElement("ul",null,r.a.createElement("li",null,a.vin||"No se especific\xf3 numero de chasis")))),r.a.createElement("li",null,r.a.createElement("p",null,a.auto),r.a.createElement("span",null,a.year),r.a.createElement("i",{className:"tag"},a.combustible)),r.a.createElement("li",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"person"),a.nombre," ",a.apellido)),r.a.createElement("div",{id:"reparaciones"},k.data.length?k.data.map((function(e){return r.a.createElement(S,{key:e.id,reparacion:e,setDialog:t})})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"build"),r.a.createElement("h6",null,"A\xfan no hay reparaciones")),r.a.createElement("div",{className:"add"},r.a.createElement("button",{onClick:function(){t({tipo:"addReparacion",lista:a.lista,id:a.id,patente:a.patente,km:k.data.length&&k.data[0].km})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")," ","Nueva Reparacion")))))},D=a(16),A=a.n(D),_=a(20);a(98);var x=function(e){var t=e.busqueda,a=(e.dialog,e.setDialog),c=e.fabricantes,o=e.modelos,i=Object(n.useState)(!0),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),p=Object(l.a)(d,2),b=p[0],E=p[1];Object(n.useEffect)((function(){!function(){var e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,f.service("api/turnos").find({query:{fecha:{$gt:(new Date).getTime()-864e5},$limit:50,$sort:{fecha:1}}}).then((function(e){E(e)})).catch((function(e){console.error(e)}));case 3:m(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var v,h,g=function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{day:"numeric"}).format(t)},y=function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{month:"long"}).format(t)},O=function(e){try{return c.data.find((function(t){return t.id===o.data.find((function(t){return t.id===e})).fabricanteId})).nombre+" "+o.data.find((function(t){return t.id===e})).nombre}catch(t){return"ERROR"}};return r.a.createElement("div",{id:"TurnosView",className:"App"},r.a.createElement("div",{id:"turnos"},u?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"})):b.data.length?b.data.map((function(e){return r.a.createElement("div",{key:e.id,className:v===e.fecha?"turno":"turno turno--date"},new Date(h).getMonth()===new Date(e.fecha).getMonth()?void 0:r.a.createElement("div",{className:"turno__mes"},y(h=e.fecha)),r.a.createElement("ul",null,v===e.fecha?r.a.createElement("li",{className:"turno__fecha"}," "):r.a.createElement("li",{className:"turno__fecha"},r.a.createElement("div",{className:"day"},function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{weekday:"short"}).format(t)}(e.fecha)),r.a.createElement("div",{className:"date"},g(v=e.fecha))),r.a.createElement("li",{className:"turno__cuerpo"},e.motivo,r.a.createElement("span",null," ","- ",O(e.modeloId))),r.a.createElement("li",{className:"remove"},r.a.createElement("button",{type:"button",className:"remove",onClick:function(){a({tipo:"removeTurno",id:e.id,fecha:g(e.fecha),mes:y(e.fecha),auto:O(e.modeloId)})}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"delete_outline")))))})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"event"),r.a.createElement("h6",null,"No hay turnos agendados"))),r.a.createElement("div",{className:"fab"},r.a.createElement("button",{type:"button",onClick:function(){a({tipo:"addTurno"})}},r.a.createElement("i",{className:"material-icons md-light md-36"},"add"))))},T=a(3);a(108);var $=function(e){var t=e.user,a=e.presupuesto,n=e.auto,c=parseInt(a.labor,10)+a.repuestos.reduce((function(e,t){return e+t.precio}),0),o={border:"1px solid grey",borderRadius:"2px",fontWeight:"500"};return r.a.createElement(T.Box,{cellSpacing:30},r.a.createElement(T.Item,null,r.a.createElement(T.Box,{cellSpacing:30,width:"100%",align:"center",style:{borderBottom:"1px solid grey"}},r.a.createElement(T.Item,{align:"center"},r.a.createElement(T.Span,{fontSize:16},"montiel"===t?"Inyeccion Electronica - Airbag - ABS - Alarmas - Accesorios":"SERVICIO ESPECIALIZADO FORD")),r.a.createElement(T.Item,{align:"center"},r.a.createElement(T.Span,{fontSize:34},"montiel"===t?"Taller Montiel":"Gabriel Mezzanotte")),r.a.createElement(T.Item,{align:"center"},r.a.createElement(T.Span,{fontSize:16},"montiel"===t?"Vertiz 8190 - (0223) 155-063679 - montielelectroauto@gmail.com":"La Pampa 2265 - (0223) 475-2335 - gabimezzanotte@gmail.com (7600) Mar del Plata")))),r.a.createElement(T.Item,null,r.a.createElement(T.Box,{cellSpacing:20,width:"100%"},r.a.createElement(T.Item,null,r.a.createElement(T.Span,{fontSize:20,lineHeight:40},"Presupuesto - ",function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{year:"numeric",month:"long",day:"numeric"}).format(t)}(a.createdAt)))),r.a.createElement(T.Box,{cellSpacing:5,cellPadding:10,width:"600",style:{border:"1px solid grey"}},r.a.createElement("tr",null,r.a.createElement("th",{style:o},"Patente"),r.a.createElement("th",{style:o},"Vehiculo"),r.a.createElement("th",{style:o},"Kilometros")),r.a.createElement("tr",null,r.a.createElement("td",null,a.patente.toUpperCase()),r.a.createElement("td",null,n),r.a.createElement("td",{align:"right"},a.km))),r.a.createElement(T.Box,{cellSpacing:20,width:"100%"},r.a.createElement(T.Item,null,r.a.createElement(T.Span,{fontSize:20,lineHeight:40},"Reparacion"))),r.a.createElement(T.Box,{cellSpacing:5,cellPadding:10,width:"600",style:{border:"1px solid grey"}},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:o},"Motivo"),r.a.createElement("th",{style:o},"Mano de obra")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},a.motivo),r.a.createElement("td",{align:"right"},a.labor,"$")),r.a.createElement("tr",null,r.a.createElement("th",{style:o},"Cantidad"),r.a.createElement("th",{style:o},"Repuesto"),r.a.createElement("th",{style:o},"Precio")),a.repuestos.length?a.repuestos.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{align:"center"},e.cantidad),r.a.createElement("td",null,e.repuesto),r.a.createElement("td",{align:"right"},e.precio,"$"))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"No se detallaron repuestos"),r.a.createElement("td",{align:"right"},"0$")),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"}),r.a.createElement("th",{style:o},"Total")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"}),r.a.createElement("td",{align:"right"},c,"$")))),r.a.createElement(T.Item,null,r.a.createElement(T.Box,{cellSpacing:20,width:"100%",style:{borderTop:"1px solid grey"}},r.a.createElement(T.Item,{align:"right"},r.a.createElement(T.Span,{color:"gray",lineHeight:20},"\xa9 2019"," ",r.a.createElement(T.A,{href:"https://calarco.com.ar"},"CalarcoWEB"))))))};function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(e){var t=e.user,a=e.busqueda,c=(e.dialog,e.setDialog),o=e.setSnackbar,i=e.activo,s=e.setActivo,u=e.fabricantes,m=e.modelos,d=Object(n.useState)({}),p=Object(l.a)(d,2),E=p[0],v=p[1],h=Object(n.useState)({presupuestos:!0,email:!1}),g=Object(l.a)(h,2),y=g[0],O=g[1],j=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),k=Object(l.a)(j,2),N=k[0],I=k[1];Object(n.useEffect)((function(){!function(){var e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({presupuestos:!0}),e.next=3,f.service("api/presupuestos").find({query:{$limit:50,$sort:{createdAt:1}}}).then((function(e){I(e)})).catch((function(e){console.error(e)}));case 3:O({presupuestos:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]);var S=function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{year:"numeric",month:"short",day:"numeric"}).format(t)},w=function(e){try{return u.data.find((function(t){return t.id===m.data.find((function(t){return t.id===e})).fabricanteId})).nombre+" "+m.data.find((function(t){return t.id===e})).nombre}catch(t){return"ERROR"}};return r.a.createElement("div",{id:"PresupuestosView",className:"App"},r.a.createElement("div",{id:"presupuestos",className:"mainCard",style:{maxWidth:i.presupuesto&&"100%"}},r.a.createElement("div",{id:"listaHead"},r.a.createElement("h6",null,"Presupuestos"),r.a.createElement("div",{className:"fab"},r.a.createElement("button",{type:"button",onClick:function(){c({tipo:"addPresupuesto"})}},r.a.createElement("i",{className:"material-icons md-light md-36"},"add")))),r.a.createElement("div",{id:"lista"},!0===y.presupuestos?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"})):N.data.length?N.data.map((function(e){return r.a.createElement("div",{className:"presupuesto",key:e.id},r.a.createElement("ul",{onClick:function(){return s((function(t){return V({},t,{presupuesto:e})}))}},r.a.createElement("li",null,S(e.createdAt)),r.a.createElement("li",null,r.a.createElement("b",null,e.patente),r.a.createElement("span",null,w(e.modeloId)))),r.a.createElement("li",{className:"remove"},r.a.createElement("button",{type:"button",className:"remove",onClick:function(){c({tipo:"removePresupuesto",id:e.id,patente:e.patente,fecha:S(e.createdAt)})}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"delete_outline"))))})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"event"),r.a.createElement("h6",null,"No se confeccionaron presupuestos"))),r.a.createElement("div",{id:"mensajeHead"},r.a.createElement("button",{onClick:function(){s(V({},i,{presupuesto:""}))}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"arrow_back")),!0===y.email?r.a.createElement("div",{className:"spinner"}):r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O({email:!0}),f.service("api/emails").create({to:E.email,subject:"Servicio Especializado | Gabriel Mezzanotte",html:Object(T.renderEmail)(r.a.createElement(T.Email,{title:"Presupuesto"},r.a.createElement($,{user:t,presupuesto:i.presupuesto,auto:w(i.presupuesto.modeloId)})))}).then((function(e){o("Presupuesto enviado a "+e.accepted[0]),v({}),O({email:!1})})).catch((function(e){console.error(e)}))},className:"enviar"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Direccion de correo",value:E.email||"",onChange:function(e){e.persist(),v((function(t){return V({},t,Object(b.a)({},e.target.name,e.target.value))}))},required:!0}),r.a.createElement("button",{type:"submit"},"Enviar"))),r.a.createElement("div",{id:"mensaje",style:{maxHeight:i.presupuesto&&"1000px"}},i.presupuesto&&r.a.createElement($,{user:t,presupuesto:i.presupuesto,auto:w(i.presupuesto.modeloId)}))))};a(109);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R=function(e,t,a){var r=Object(n.useState)({}),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)({}),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){a.id&&i(a)}),[a]);return{inputs:o,setInputs:i,errors:m,handleInputChange:function(e){e.persist(),i((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,Object(b.a)({},e.target.name,e.target.value))}))},handleSubmit:function(a){a&&a.preventDefault(),d(t(o)),0===Object.keys(t(o)).length&&e()}}};function U(e){var t={};return e.nombre||(t.nombre="Ingrese un nombre"),e.telefono1||(t.telefono1="Ingrese un numero de telefono"),t}var M=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.setActivo,o=e.updateSearch,l=function(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")},i=R((function(){a.id?f.service("api/clientes").patch(a.id,{nombre:l(s.nombre),apellido:l(s.apellido),telefono:s.telefono2?s.telefono1+" "+s.telefono2:s.telefono1,direccion:l(s.direccion),empresa:s.empresa,updatedAt:Date()}).then((function(e){o(),c({lista:e.id}),n("Cliente guardado"),t()})).catch((function(e){console.error(e)})):f.service("api/clientes").create({nombre:l(s.nombre),apellido:l(s.apellido),telefono:s.telefono2?s.telefono1+" "+s.telefono2:s.telefono1,direccion:l(s.direccion),empresa:s.empresa,createdAt:Date(),updatedAt:Date()}).then((function(e){o(!1),c({lista:e.id}),n("Cliente creado"),t()})).catch((function(e){console.error(e)}))}),U,a),s=i.inputs,u=i.errors,m=i.handleInputChange,d=i.handleSubmit;return r.a.createElement("form",{onSubmit:d,id:"addCliente",className:"dialog",noValidate:!0},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},a.id?"Editar":"Nuevo"," cliente")),r.a.createElement("ul",null,r.a.createElement("li",{id:"nombre",className:u.nombre&&"error"},r.a.createElement("span",null,u.nombre||"Nombre"),r.a.createElement("input",{type:"text",name:"nombre",placeholder:"-",value:s.nombre||"",onChange:m,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"apellido"},r.a.createElement("span",null,"Apellido"),r.a.createElement("input",{type:"text",name:"apellido",placeholder:"-",value:s.apellido||"",onChange:m,autoComplete:"off"})),r.a.createElement("li",{id:"telefono1",className:u.telefono1&&"error"},r.a.createElement("span",null,u.telefono1||"Telefono 1"),r.a.createElement("input",{type:"tel",pattern:"\\d*",title:"Telefono 1",name:"telefono1",placeholder:"-",value:s.telefono1||"",onChange:m,autoComplete:"off"})),r.a.createElement("li",{id:"telefono2"},r.a.createElement("span",null,"Telefono 2"),r.a.createElement("input",{type:"tel",name:"telefono2",placeholder:"-",value:s.telefono2||"",onChange:m,autoComplete:"off"})),r.a.createElement("li",{id:"direccion"},r.a.createElement("span",null,"Direccion"),r.a.createElement("input",{type:"text",name:"direccion",placeholder:"-",value:s.direccion||"",onChange:m,autoComplete:"off"})),r.a.createElement("li",{id:"empresa"},r.a.createElement("span",null,"Empresa"),r.a.createElement("input",{type:"text",name:"empresa",placeholder:"-",value:s.empresa||"",onChange:m}))),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:a.id?"Guardar":"Agregar"})))};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.updateSearch,o=e.activo,l=e.setActivo;return r.a.createElement("div",{id:"removeCliente",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar cliente ",a.nombre," ",a.apellido," y sus vehiculos asociados?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){var e;e=a.id,f.service("api/clientes").remove(e).then((function(a){f.service("api/vehiculos").remove(null,{query:{clienteId:null}}).then((function(a){f.service("api/reparaciones").remove(null,{query:{vehiculoId:null}}).then((function(a){c(),o.clienteId===e&&l((function(e){return z({},e,{id:""})})),o.lista===e&&l((function(e){return z({},e,{lista:0})})),n("Cliente eliminado"),t()})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}},"Borrar")))};function H(e){var t={};return e.patente||(t.patente="Ingrese la patente"),e.vin&&17!==e.vin.length&&(t.vin="El VIN debe contener 17 caracteres"),t}function W(e){var t={};return e.modelo||(t.modelo="Ingrese el modelo"),t}function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(e){var t=e.temps,a=e.setTemps,n=e.current,c=e.dialog,o=e.updateSearch,l=e.setSnackbar,i=R((function(){f.service("api/modelos").create({nombre:p(s.modelo),createdAt:Date(),updatedAt:Date(),fabricanteId:t.fabricanteId}).then((function(e){o(),l("Modelo agregado"),a((function(t){return J({},t,{modeloId:e.id})}))})).catch((function(e){console.error(e)}))}),W,c),s=i.inputs,u=i.errors,m=i.handleInputChange,d=i.handleSubmit,p=function(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};return r.a.createElement("form",{onSubmit:d,id:"newModelo",className:u.modelo&&"error",noValidate:!0},r.a.createElement("span",null,u.modelo||"Nuevo modelo"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",style:{display:!n.data.length&&"none"},onClick:function(){return a((function(e){return J({},e,{modeloId:n.data[0].id})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"chevron_left")),r.a.createElement("input",{type:"text",name:"modelo",placeholder:"-",value:s.modelo||"",onChange:m,id:"modeloInput",autoFocus:!0,required:!0}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"material-icons md-dark md-18"},"done"))))};function Z(e){var t={};return e.fabricante||(t.fabricante="Ingrese el fabricante"),t}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(e){var t=e.setTemps,a=e.fabricantes,n=e.dialog,c=e.updateSearch,o=e.setSnackbar,l=R((function(){f.service("api/fabricantes").create({nombre:d(i.fabricante),createdAt:Date(),updatedAt:Date()}).then((function(e){c(),o("Fabricante agregado"),t((function(t){return X({},t,{fabricanteId:e.id})}))})).catch((function(e){400===e.code&&document.getElementById("newFabricante").classList.add("error"),console.error(e)}))}),Z,n),i=l.inputs,s=l.errors,u=l.handleInputChange,m=l.handleSubmit,d=function(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};return r.a.createElement("form",{onSubmit:m,id:"newFabricante",className:s.fabricante&&"error",noValidate:!0},r.a.createElement("span",null,s.fabricante||"Nuevo fabricante"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",style:{display:!a.data.length&&"none"},onClick:function(){return t((function(e){return X({},e,{fabricanteId:a.data[0].id})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"chevron_left")),r.a.createElement("input",{type:"text",name:"fabricante",placeholder:"Nuevo",value:i.fabricante||"",onChange:u,id:"fabricanteInput",autoFocus:!0,required:!0}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"material-icons md-dark md-18"},"done"))))};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=function(e){var t=e.close,a=e.dialog,c=e.setSnackbar,o=e.updateSearch,i=e.fabricantes,s=e.modelos,u=e.setActivo,m=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),d=Object(l.a)(m,2),p=d[0],b=d[1],E=R((function(){f.service("api/vehiculos").create({patente:v.patente.toUpperCase(),year:v.year||"2019",combustible:v.combustible||"Nafta",vin:v.vin.toUpperCase()||"",createdAt:Date(),updatedAt:Date(),clienteId:a.clienteId,modeloId:v.modeloId}).then((function(e){f.service("api/clientes").patch(e.clienteId,{createdAt:Date()}).then((function(e){})).catch((function(e){console.error(e)})),o(),u({lista:e.clienteId,id:e.id,patente:e.patente,year:e.year,combustible:e.combustible,clienteId:e.clienteId,nombre:a.nombre,apellido:a.apellido,auto:document.getElementById("fabricantes").selectedOptions[0].text+" "+document.getElementById("modelos").selectedOptions[0].text,km:"0"}),c("Vehiculo creado"),t()})).catch((function(e){400===e.code&&(document.getElementById("patente").className="error"),console.error(e)}))}),H,a),v=E.inputs,h=E.setInputs,g=E.errors,y=E.handleInputChange,O=E.handleSubmit;return Object(n.useEffect)((function(){v.fabricanteId||(i.data.length?h((function(e){return ae({},e,{fabricanteId:i.data[0].id})})):h((function(e){return ae({},e,{fabricanteId:"nuevo"})})))}),[i]),Object(n.useEffect)((function(){if("nuevo"!==v.fabricanteId){var e=s.data.filter((function(e){return e.fabricanteId===parseInt(v.fabricanteId,10)}));b({total:0,limit:0,skip:0,data:e}),e.length?h((function(t){return ae({},t,{modeloId:e[0].id})})):h((function(e){return ae({},e,{modeloId:"nuevo"})}))}}),[v.fabricanteId,s]),r.a.createElement("div",{id:"addVehiculo",className:"dialog"},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Nuevo vehiculo"),r.a.createElement("div",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"person"),a.nombre," ",a.apellido)),r.a.createElement("ul",null,r.a.createElement("li",{id:"patente",className:g.patente&&"error"},r.a.createElement("span",null,g.patente||"Patente"),r.a.createElement("input",{type:"text",name:"patente",placeholder:"-",form:"AddVehiculoForm",value:v.patente||"",onChange:y,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"year"},r.a.createElement("span",null,"A\xf1o"),r.a.createElement("input",{type:"number",min:"1900",max:"9999",name:"year",placeholder:"-",form:"AddVehiculoForm",value:v.year||"2019",onChange:y})),r.a.createElement("li",{id:"combustible"},r.a.createElement("span",null,"Combustible"),r.a.createElement("select",{name:"combustible",form:"AddVehiculoForm",value:v.combustible||"Nafta",onChange:y},r.a.createElement("option",{value:"Nafta"},"Nafta"),r.a.createElement("option",{value:"Diesel"},"Diesel"),r.a.createElement("option",{value:"GNC"},"GNC"))),r.a.createElement("li",{className:"tipo"},"nuevo"===v.fabricanteId?r.a.createElement(ee,{setTemps:h,fabricantes:i,dialog:a,updateSearch:o,setSnackbar:c}):r.a.createElement("div",{id:"fabricante"},r.a.createElement("span",null,"Fabricante"),r.a.createElement("div",null,r.a.createElement("select",{name:"fabricanteId",form:"AddVehiculoForm",value:v.fabricanteId,onChange:y,id:"fabricantes"},i.data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){h((function(e){return ae({},e,{fabricanteId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))),"nuevo"===v.modeloId&&"nuevo"!==v.fabricanteId?r.a.createElement(Y,{temps:v,setTemps:h,current:p,dialog:a,updateSearch:o,setSnackbar:c}):"nuevo"!==v.modeloId&&"nuevo"!==v.fabricanteId?r.a.createElement("div",{id:"modelo"},r.a.createElement("span",null,"Modelo"),r.a.createElement("div",null,r.a.createElement("select",{name:"modeloId",form:"AddVehiculoForm",value:v.modeloId,onChange:y,id:"modelos"},p.data.map((function(e){return r.a.createElement("option",{key:e.id||0,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){h((function(e){return ae({},e,{modeloId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))):void 0)),r.a.createElement("form",{onSubmit:O,id:"AddVehiculoForm",className:"dialog__buttons",noValidate:!0},r.a.createElement("div",{id:"vin",className:g.vin&&"error"},r.a.createElement("span",null,g.vin||"VIN"),r.a.createElement("input",{type:"text",name:"vin",placeholder:"-",form:"AddVehiculoForm",value:v.vin||"",onChange:y,autoComplete:"off"})),r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Agregar",disabled:"nuevo"===v.modeloId||"nuevo"===v.fabricanteId})))};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ce=function(e){var t=e.close,a=e.dialog,c=e.setSnackbar,o=e.setActivo,i=e.updateSearch,s=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),u=Object(l.a)(s,2),m=u[0],d=u[1],p=R((function(){f.service("api/vehiculos").patch(a.id,{vin:E.vin.toUpperCase()||"",updatedAt:Date(),clienteId:E.clienteId}).then((function(e){f.service("api/clientes").patch(e.clienteId,{updatedAt:Date()}).then((function(e){})).catch((function(e){console.error(e)})),i(),o((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{lista:e.clienteId,id:e.id,patente:e.patente,vin:e.vin,clienteId:e.clienteId,nombre:a.nombre,apellido:a.apellido})})),c("Vehiculo guardado"),t()})).catch((function(e){400===e.code&&(document.getElementById("patente").className="error"),console.error(e)}))}),H,a),E=p.inputs,v=p.errors,h=p.handleInputChange,g=p.handleSubmit;return Object(n.useEffect)((function(){E.search?f.service("api/clientes").find({query:{$or:[{nombre:{$iLike:"".concat(E.search,"%")}},{apellido:{$iLike:"".concat(E.search,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){d(e)})).catch((function(e){console.log("error",e)})):f.service("api/clientes").find({query:{$or:[{nombre:{$iLike:"".concat(a.nombre,"%")}},{apellido:{$iLike:"".concat(a.apellido,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){d(e)})).catch((function(e){console.log("error",e)}))}),[E.search,a]),r.a.createElement("form",{onSubmit:g,id:"editVehiculo",className:"dialog",noValidate:!0},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Editar vehiculo"),r.a.createElement("div",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"directions_car"),a.patente)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Propietario"),r.a.createElement("input",{type:"search",name:"search",list:"datalist",placeholder:"Buscar",value:E.search||"",onChange:h,autoComplete:"off"})),r.a.createElement("ul",{id:"datalist"},m.data.length?m.data.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("input",{type:"radio",name:"clienteId",value:e.id,onChange:h,id:e.id,checked:e.id===E.clienteId,required:!0}),r.a.createElement("label",{htmlFor:e.id},r.a.createElement("b",null,e.nombre+" "+e.apellido)))})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"search"),r.a.createElement("h6",null,"No se encontraron clientes"))),r.a.createElement("div",{id:"vin",className:v.vin&&"error"},r.a.createElement("span",null,v.vin||"VIN"),r.a.createElement("input",{type:"text",name:"vin",placeholder:"-",form:"AddVehiculoForm",value:E.vin||"",onChange:h,autoComplete:"off"}))),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Guardar",disabled:!E.clienteId})))};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var le=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.updateSearch,o=e.activo,l=e.setActivo,i=function(e){f.service("api/reparaciones").remove(null,{query:{vehiculoId:e}}).then((function(a){f.service("api/vehiculos").remove(e).then((function(e){c(),o.id===e.id&&l((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{id:""})})),n("Vehiculo eliminado"),t()})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))};return r.a.createElement("div",{id:"removeVehiculo",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar vehiculo ",a.patente,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){i(a.id)}},"Borrar")))};function ie(e){var t={};return e.reparacion||(t.reparacion="Ingrese la reparacion"),t}function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ue=function(e){var t=e.dialog,a=e.close,n=e.setSnackbar,c=e.setActivo,o=R((function(){f.service("api/reparaciones").create({km:l.km||"0",reparacion:m(l.reparacion),repuestos:m(l.repuestos),costo:l.costo||"0",labor:l.labor||"0",createdAt:Date(),updatedAt:Date(),vehiculoId:t.id}).then((function(e){f.service("api/clientes").patch(t.clienteId,{createdAt:e.createdAt}).then((function(e){})).catch((function(e){console.error(e)})),c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{id:e.vehiculoId})})),n("Reparacion creada"),a()})).catch((function(e){console.error(e)}))}),ie,t),l=o.inputs,i=o.errors,s=o.handleInputChange,u=o.handleSubmit,m=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.substring(1)},d=new Date,p=Intl.DateTimeFormat("default",{month:"long",day:"numeric"}).format(d);return r.a.createElement("form",{onSubmit:u,id:"addReparacion",className:"dialog",noValidate:!0},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Nueva reparacion"),r.a.createElement("div",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"directions_car"),t.patente)),r.a.createElement("ul",null,r.a.createElement("li",{id:"fecha"},r.a.createElement("span",null,"Fecha"),r.a.createElement("p",null,p)),r.a.createElement("li",{id:"ultimo"},r.a.createElement("span",null,"Ultimo servicio"),r.a.createElement("p",null,t.km," km")),r.a.createElement("li",{id:"km"},r.a.createElement("span",null,"Kilometros"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"km",placeholder:"0",value:l.km||"",onChange:s})),r.a.createElement("li",{id:"reparacion",className:i.reparacion&&"error"},r.a.createElement("span",null,i.reparacion||"Reparacion"),r.a.createElement("input",{type:"text",name:"reparacion",placeholder:"-",value:l.reparacion||"",onChange:s,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"repuestos"},r.a.createElement("span",null,"Repuestos"),r.a.createElement("input",{type:"text",name:"repuestos",placeholder:"-",value:l.repuestos,onChange:s,autoComplete:"off"})),r.a.createElement("li",{id:"costo"},r.a.createElement("span",null,"Precio"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"costo",placeholder:"0",value:l.costo||"",onChange:s})),r.a.createElement("li",{id:"labor"},r.a.createElement("span",null,"Mano de Obra"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"labor",placeholder:"0",value:l.labor||"",onChange:s}))),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("div",{className:"dialog__total"},"Total",r.a.createElement("b",null,"$",(parseInt(l.costo,10)||0)+(parseInt(l.labor,10)||0))),r.a.createElement("button",{type:"button",onClick:function(){return a()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Agregar"})))};function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var de=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.setActivo,o=function(e){f.service("api/reparaciones").remove(e).then((function(e){c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{id:e.vehiculoId})})),n("Reparacion eliminada"),t()})).catch((function(e){console.error(e)}))};return r.a.createElement("div",{id:"removeReparacion",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar reparacion del ",a.fecha,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){o(a.id)}},"Borrar")))};function pe(e){var t={};return e.motivo||(t.motivo="Ingrese el motivo"),t}function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=function(e){var t=e.close,a=e.dialog,c=e.setSnackbar,o=e.updateSearch,i=e.fabricantes,s=e.modelos,u=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),m=Object(l.a)(u,2),d=m[0],p=m[1],b=R((function(){f.service("api/turnos").create({fecha:(E.fecha||O())+" 23:59:59",motivo:j(E.motivo),createdAt:Date(),updatedAt:Date(),modeloId:E.modeloId}).then((function(e){o(),c("Turno creado"),t()})).catch((function(e){400===e.code&&(document.getElementById("patente").className="error"),console.error(e)}))}),pe,a),E=b.inputs,v=b.setInputs,h=b.errors,g=b.handleInputChange,y=b.handleSubmit;Object(n.useEffect)((function(){E.fabricanteId||(i.data.length?v((function(e){return be({},e,{fabricanteId:i.data[0].id})})):v((function(e){return be({},e,{fabricanteId:"nuevo"})})))}),[i]),Object(n.useEffect)((function(){if("nuevo"!==E.fabricanteId){var e=s.data.filter((function(e){return e.fabricanteId===parseInt(E.fabricanteId,10)}));p({total:0,limit:0,skip:0,data:e}),e.length?v((function(t){return be({},t,{modeloId:e[0].id})})):v((function(e){return be({},e,{modeloId:"nuevo"})}))}}),[E.fabricanteId,s]);var O=function(e){var t=new Date,a=t.getDate();a<10&&(a="0"+a);var n=t.getMonth()+1;return n<10&&(n="0"+n),t.getFullYear()+"-"+n+"-"+a},j=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.substring(1)};return r.a.createElement("div",{id:"addTurno",className:"dialog"},r.a.createElement("ul",null,r.a.createElement("h5",{className:"title"},"Nuevo turno"),r.a.createElement("li",{id:"fecha"},r.a.createElement("span",null,"Fecha"),r.a.createElement("input",{type:"date",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",name:"fecha",placeholder:"-",form:"AddTurnoForm",value:E.fecha||O(),onChange:g,required:!0})),r.a.createElement("li",{id:"motivo",className:h.motivo&&"error"},r.a.createElement("span",null,h.motivo||"Motivo"),r.a.createElement("input",{type:"text",name:"motivo",placeholder:"-",form:"AddTurnoForm",value:E.motivo||"",onChange:g,autoComplete:"off",required:!0})),r.a.createElement("li",{className:"tipo"},r.a.createElement("div",{id:"fabricante"},r.a.createElement("span",null,"Fabricante"),r.a.createElement("div",null,r.a.createElement("select",{name:"fabricanteId",form:"AddTurnoForm",value:E.fabricanteId,onChange:g,id:"fabricantes"},i.data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){v((function(e){return be({},e,{fabricanteId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))),r.a.createElement("div",{id:"modelo"},r.a.createElement("span",null,"Modelo"),r.a.createElement("div",null,r.a.createElement("select",{name:"modeloId",form:"AddTurnoForm",value:E.modeloId,onChange:g,id:"modelos"},d.data.map((function(e){return r.a.createElement("option",{key:e.id||0,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){v((function(e){return be({},e,{modeloId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))),"nuevo"===E.fabricanteId?r.a.createElement(ee,{setTemps:v,fabricantes:i,dialog:a,updateSearch:o,setSnackbar:c}):"nuevo"===E.modeloId?r.a.createElement(Y,{temps:E,setTemps:v,current:d,dialog:a,updateSearch:o,setSnackbar:c}):void 0)),r.a.createElement("form",{onSubmit:y,id:"AddTurnoForm",className:"dialog__buttons",noValidate:!0},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Agregar",disabled:"nuevo"===E.modeloId||"nuevo"===E.fabricanteId})))};var ve=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.updateSearch;return r.a.createElement("div",{id:"removeTurno",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar turno del ",a.fecha," de ",a.mes," para"," ",a.auto,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){var e;e=a.id,f.service("api/turnos").remove(e).then((function(e){c(),n("Turno eliminado"),t()})).catch((function(e){console.error(e)}))}},"Borrar")))},he=a(32);function ge(e){var t={};return e.patente||(t.patente="Ingrese la patente"),e.motivo||(t.motivo="Ingrese el motivo"),t}function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=function(e){var t=e.close,a=e.dialog,c=e.setSnackbar,o=e.updateSearch,i=e.fabricantes,s=e.modelos,u=e.activo,m=e.setActivo,d=Object(n.useState)([]),p=Object(l.a)(d,2),b=p[0],E=p[1],v=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),h=Object(l.a)(v,2),g=h[0],y=h[1],O=R((function(){f.service("api/presupuestos").create({patente:j.patente.toUpperCase(),km:j.km||"0",motivo:w(j.motivo),labor:j.labor||"0",repuestos:b,createdAt:Date(),updatedAt:Date(),modeloId:j.modeloId}).then((function(e){o(),m(Oe({},u,{presupuesto:e})),c("Presupuesto creado"),t()})).catch((function(e){console.error(e)}))}),ge,a),j=O.inputs,k=O.setInputs,N=O.errors,I=O.handleInputChange,S=O.handleSubmit;Object(n.useEffect)((function(){j.fabricanteId||(i.data.length?k((function(e){return Oe({},e,{fabricanteId:i.data[0].id})})):k((function(e){return Oe({},e,{fabricanteId:"nuevo"})})))}),[i]),Object(n.useEffect)((function(){if("nuevo"!==j.fabricanteId){var e=s.data.filter((function(e){return e.fabricanteId===parseInt(j.fabricanteId,10)}));y({total:0,limit:0,skip:0,data:e}),e.length?k((function(t){return Oe({},t,{modeloId:e[0].id})})):k((function(e){return Oe({},e,{modeloId:"nuevo"})}))}}),[j.fabricanteId,s]);var w=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.substring(1)};return r.a.createElement("div",{id:"addPresupuesto",className:"dialog"},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Nuevo presupuesto")),r.a.createElement("ul",null,r.a.createElement("li",{id:"patente",className:N.patente&&"error"},r.a.createElement("span",null,N.patente||"Patente"),r.a.createElement("input",{type:"text",name:"patente",placeholder:"-",value:j.patente,onChange:I,autoComplete:"off",required:!0})),r.a.createElement("li",{className:"tipo"},r.a.createElement("div",{id:"fabricante"},r.a.createElement("span",null,"Fabricante"),r.a.createElement("div",null,r.a.createElement("select",{name:"fabricanteId",form:"AddPresupuestoForm",value:j.fabricanteId,onChange:I,id:"fabricantes"},i.data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){k((function(e){return Oe({},e,{fabricanteId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))),r.a.createElement("div",{id:"modelo"},r.a.createElement("span",null,"Modelo"),r.a.createElement("div",null,r.a.createElement("select",{name:"modeloId",form:"AddPresupuestoForm",value:j.modeloId,onChange:I,id:"modelos"},g.data.map((function(e){return r.a.createElement("option",{key:e.id||0,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){k((function(e){return Oe({},e,{modeloId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))),"nuevo"===j.fabricanteId?r.a.createElement(ee,{setTemps:k,fabricantes:i,dialog:a,updateSearch:o,setSnackbar:c}):"nuevo"===j.modeloId?r.a.createElement(Y,{temps:j,setTemps:k,current:g,dialog:a,updateSearch:o,setSnackbar:c}):void 0),r.a.createElement("li",{id:"km"},r.a.createElement("span",null,"Kilometros"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"km",placeholder:"0",form:"AddPresupuestoForm",value:j.km||"",onChange:I})),r.a.createElement("li",{id:"reparacion",className:N.motivo&&"error"},r.a.createElement("span",null,N.motivo||"Motivo"),r.a.createElement("input",{type:"text",name:"motivo",placeholder:"-",form:"AddPresupuestoForm",value:j.motivo||"",onChange:I,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"labor"},r.a.createElement("span",null,"Mano de Obra"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"labor",placeholder:"0",form:"AddPresupuestoForm",value:j.labor||"",onChange:I})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=[].concat(Object(he.a)(b),[{cantidad:j.cantidad,repuesto:w(j.repuesto),precio:parseInt(j.precio,10)||"0"}]);E(t),k((function(e){return Oe({},e,{cantidad:1,repuesto:"",precio:0})}))},id:"repuestos"},r.a.createElement("ul",{id:"columnHeader"},r.a.createElement("li",null,"Cantidad"),r.a.createElement("li",null,"Repuesto"),r.a.createElement("li",null,"Precio"),r.a.createElement("li",null)),b.length?b.map((function(e,t){return r.a.createElement("ul",{key:t},r.a.createElement("li",null,e.cantidad),r.a.createElement("li",null,e.repuesto),r.a.createElement("li",null,e.precio,"$"),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t=Object(he.a)(b);t.splice(e,1),E(t)}(t)}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"delete")))})):r.a.createElement("div",{className:"empty"},"No se detallan repuestos"),r.a.createElement("ul",{id:"addRepuesto"},r.a.createElement("li",{id:"cantidad"},r.a.createElement("input",{type:"number",min:"000001",max:"999999",name:"cantidad",placeholder:"-",value:j.cantidad,onChange:I})),r.a.createElement("li",{id:""},r.a.createElement("input",{type:"text",name:"repuesto",placeholder:"Repuesto",value:j.repuesto,onChange:I,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"costo"},r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"precio",placeholder:"0",value:j.precio||"",onChange:I})),r.a.createElement("button",{type:"submit",onClick:function(){}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add"))))),r.a.createElement("form",{onSubmit:S,id:"AddPresupuestoForm",className:"dialog__buttons",noValidate:!0},r.a.createElement("div",{className:"dialog__total"},"Total",r.a.createElement("b",null,"$",(parseInt(j.labor,10)||0)+b.reduce((function(e,t){var a=t.precio;return e+parseInt(a,10)}),0))),r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Guardar",disabled:"nuevo"===j.modeloId||"nuevo"===j.fabricanteId})))};function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ne=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.updateSearch,o=e.activo,l=e.setActivo,i=function(e){f.service("api/presupuestos").remove(e).then((function(e){c(),e.id===o.presupuesto.id&&l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o,{presupuesto:""})),n("Presupuesto eliminado"),t()})).catch((function(e){console.error(e)}))};return r.a.createElement("div",{id:"removePresupuesto",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar presupuesto para ",a.patente," del ",a.fecha,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){i(a.id)}},"Borrar")))};var Ie=function(e){var t=e.dialog,a=e.setDialog,n=e.setSnackbar,c=e.activo,o=e.setActivo,l=e.updateSearch,i=e.fabricantes,s=e.modelos,u=function(){document.getElementById("overlay").classList.remove("overlay--show"),document.getElementById("dialogs").classList.remove("dialogs--show"),setTimeout((function(){a({})}),500)};return r.a.createElement("div",null,r.a.createElement("div",{id:"overlay",className:t.tipo?"overlay overlay--show":"overlay",onClick:function(){return u()}}),r.a.createElement("div",{id:"dialogs",className:t.tipo?"dialogs dialogs--show":"dialogs"},"addCliente"===t.tipo&&r.a.createElement(M,{close:u,dialog:t,setSnackbar:n,updateSearch:l,setActivo:o}),"addVehiculo"===t.tipo&&r.a.createElement(ne,{close:u,dialog:t,setSnackbar:n,updateSearch:l,setActivo:o,fabricantes:i,modelos:s}),"editVehiculo"===t.tipo&&r.a.createElement(ce,{close:u,dialog:t,setSnackbar:n,updateSearch:l,setActivo:o}),"addReparacion"===t.tipo&&r.a.createElement(ue,{close:u,dialog:t,setSnackbar:n,setActivo:o}),"removeCliente"===t.tipo&&r.a.createElement(G,{close:u,dialog:t,setSnackbar:n,updateSearch:l,activo:c,setActivo:o}),"removeVehiculo"===t.tipo&&r.a.createElement(le,{close:u,dialog:t,setSnackbar:n,updateSearch:l,activo:c,setActivo:o}),"removeReparacion"===t.tipo&&r.a.createElement(de,{close:u,dialog:t,setSnackbar:n,updateSearch:l,setActivo:o}),"addTurno"===t.tipo&&r.a.createElement(Ee,{close:u,dialog:t,setSnackbar:n,updateSearch:l,fabricantes:i,modelos:s}),"removeTurno"===t.tipo&&r.a.createElement(ve,{close:u,dialog:t,setSnackbar:n,updateSearch:l}),"addPresupuesto"===t.tipo&&r.a.createElement(je,{close:u,dialog:t,setSnackbar:n,updateSearch:l,activo:c,setActivo:o,fabricantes:i,modelos:s}),"removePresupuesto"===t.tipo&&r.a.createElement(Ne,{close:u,dialog:t,setSnackbar:n,updateSearch:l,activo:c,setActivo:o})))},Se=r.a.createContext({setUser:function(){},user:null});var we=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({search:""}),u=Object(l.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)({}),b=Object(l.a)(p,2),E=b[0],v=b[1],g=Object(n.useState)({}),y=Object(l.a)(g,2),j=y[0],k=y[1],N=Object(n.useState)(""),I=Object(l.a)(N,2),S=I[0],w=I[1],P=Object(n.useState)(!0),D=Object(l.a)(P,2),A=D[0],_=D[1],T=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),$=Object(l.a)(T,2),F=$[0],V=$[1],q=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),R=Object(l.a)(q,2),U=R[0],M=R[1];function L(){f.service("api/fabricantes").find({query:{$limit:100,$sort:{nombre:1}}}).then((function(e){V(e),f.service("api/modelos").find({query:{$limit:200,$sort:{nombre:1}}}).then((function(e){M(e)})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}var z=function(e){d(void 0===e?{search:m.search}:!1===e?{search:""}:{search:e})};return Object(n.useEffect)((function(){window.localStorage.getItem("feathers-jwt")?f.authenticate().then((function(e){var t=e.user;c(t),_(!1)})).catch(console.log):_(!1),L()}),[]),f.service("api/fabricantes").on("created",(function(e){return L()})),f.service("api/modelos").on("created",(function(e){return L()})),Object(n.useEffect)((function(){""!==S&&(setTimeout((function(){document.getElementById("snackbar").classList.remove("snackbar--show")}),5e3),setTimeout((function(){w("")}),5500))}),[S]),r.a.createElement(Se.Provider,{value:{user:a,setUser:c}},r.a.createElement(i.a,null,A?r.a.createElement("div",null,r.a.createElement("div",{className:"headBar"}),r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"}))):a?r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{className:"headBar"}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(C,Object.assign({},e,{dialog:j,setDialog:k,activo:E,setActivo:v,busqueda:m,updateSearch:z,fabricantes:F,modelos:U}))}}),r.a.createElement(s.a,{path:"/turnos",render:function(e){return r.a.createElement(x,Object.assign({},e,{dialog:j,setDialog:k,activo:E,setActivo:v,busqueda:m,updateSearch:z,fabricantes:F,modelos:U}))}}),r.a.createElement(s.a,{path:"/presupuestos",render:function(e){return r.a.createElement(B,Object.assign({},e,{user:a.email,dialog:j,setDialog:k,activo:E,setActivo:v,setSnackbar:w,busqueda:m,updateSearch:z,fabricantes:F,modelos:U}))}})),r.a.createElement(Ie,{dialog:j,setDialog:k,setSnackbar:w,activo:E,setActivo:v,updateSearch:z,fabricantes:F,modelos:U}),r.a.createElement("div",{id:"snackbar",className:""!==S?"snackbar snackbar--show":"snackbar"},S)):r.a.createElement(h,{user:a,setUser:c})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){e.exports=a.p+"static/media/logo.ddd520e6.svg"},53:function(e,t,a){e.exports=a(110)},58:function(e,t,a){},59:function(e,t,a){},88:function(e,t){},95:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.b2577661.chunk.js.map