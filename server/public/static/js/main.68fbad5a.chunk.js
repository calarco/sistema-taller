(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(48),o=a.n(c),l=(a(58),a(9)),i=a.n(l),s=a(16),u=a(1),m=a(17),d=a(11),p=(a(60),a(21)),f=a.n(p),b=a(49),E=a.n(b)()("/",{transports:["websocket"]}),v=f()().configure(Object(p.socketio)(E,{timeout:5e4})).configure(Object(p.authentication)({storage:window.localStorage})),h=a(2);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=function(e){e.user;var t=e.setUser,a=Object(n.useState)({user:"",password:"",loading:!1}),c=Object(u.a)(a,2),o=c[0],l=c[1],i=function(e){e.persist(),l((function(t){return y({},t,Object(h.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",{id:"Login"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(y({},o,{loading:!0})),v.authenticate({strategy:"local",email:o.user,password:o.password}).then((function(e){var a=e.user;return t(a)})).catch((function(e){console.error(e),l(y({},o,{password:"",loading:!1}))}))},className:"dialog"},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Iniciar sesion")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Usuario"),r.a.createElement("input",{type:"text",name:"user",value:o.user,onChange:i})),r.a.createElement("li",null,r.a.createElement("span",null,"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",value:o.password,onChange:i}))),r.a.createElement("div",{className:"dialog__buttons"},o.loading?r.a.createElement("div",{className:"spinner"}):void 0,r.a.createElement("input",{type:"submit",value:"Ingresar",disabled:!!o.loading}))))},j=(a(92),a(50)),N=a.n(j);var k=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("div",{className:"header__logo"},r.a.createElement("img",{src:N.a,alt:"logo"}),r.a.createElement("span",null,"Calarco WEB")),r.a.createElement("div",{className:"links"},r.a.createElement(m.b,{exact:!0,to:"/",activeClassName:"header__link--active",className:"header__link"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"build"),r.a.createElement("span",null,"Gestion")),r.a.createElement(m.b,{to:"/turnos",activeClassName:"header__link--active",className:"header__link"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"date_range"),r.a.createElement("span",null,"Turnos")),r.a.createElement(m.b,{to:"/presupuestos",activeClassName:"header__link--active",className:"header__link"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"poll"),r.a.createElement("span",null,"Presupuestos"))),r.a.createElement(we.Consumer,null,(function(e){var t=e.user,a=e.setUser;return r.a.createElement("button",{type:"button",className:"header__logout",onClick:function(){window.localStorage.removeItem("feathers-jwt"),a(null)}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"exit_to_app"),r.a.createElement("span",null,t.email))})),r.a.createElement("div",{className:"header__footer"},"\xa9 2019")))};a(97);var w=function(e){var t=e.vehiculo,a=e.cliente,c=e.fabricantes,o=e.modelos,l=e.setActivo,i=e.setDialog,s=Object(n.useState)({}),m=Object(u.a)(s,2),d=m[0],p=m[1];Object(n.useEffect)((function(){a?p(a):v.service("api/clientes").get(t.clienteId).then((function(e){p(e)})).catch((function(e){console.error(e)}))}),[a,t]);var f=function(e){try{return c.data.find((function(t){return t.id===o.data.find((function(t){return t.id===e})).fabricanteId})).nombre+" "+o.data.find((function(t){return t.id===e})).nombre}catch(t){return"ERROR"}};return r.a.createElement("div",{className:"vehiculo"},r.a.createElement("ul",{onClick:function(){return l({lista:d.id,id:t.id,patente:t.patente,year:t.year,combustible:t.combustible,vin:t.vin,clienteId:d.id,nombre:d.nombre,apellido:d.apellido,auto:f(t.modeloId)})}},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"chevron_right")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("b",null,t.patente))),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("i",{className:"tag"},t.combustible),f(t.modeloId),r.a.createElement("span",null," - ",t.year)))),r.a.createElement("div",{className:"options"},r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"more_vert")),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){i({tipo:"editVehiculo",id:t.id,patente:t.patente,vin:t.vin,clienteId:d.id,nombre:d.nombre,apellido:d.apellido})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"edit"),"Editar"),r.a.createElement("li",{onClick:function(){i({tipo:"removeVehiculo",id:t.id,patente:t.patente})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"delete"),"Borrar"))))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){var t=e.cliente,a=e.fabricantes,c=e.modelos,o=e.activo,l=e.setActivo,i=e.setDialog,s=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),m=Object(u.a)(s,2),d=m[0],p=m[1],f=(t.telefono||" ").split(" "),b=f[0],E=f[1];return Object(n.useEffect)((function(){t.id&&v.service("api/vehiculos").find({query:{$limit:100,clienteId:t.id}}).then((function(e){p(e)})).catch((function(e){console.error(e)}))}),[t]),r.a.createElement("div",{className:o.lista===t.id?"cliente activo":"cliente"},r.a.createElement("div",{className:"clienteDiv"},r.a.createElement("ul",{onClick:function(){return o.lista===t.id?l((function(e){return I({},e,{lista:0})})):l((function(e){return I({},e,{lista:t.id})}))}},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},o.lista===t.id?"expand_less":"expand_more")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("b",null,t.nombre," ",t.apellido)),r.a.createElement("p",null,r.a.createElement("span",null," ",t.empresa))),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("i",{className:"material-icons md-dark md-18"},"phone"),t.telefono),t.direccion&&r.a.createElement("p",null,r.a.createElement("i",{className:"material-icons md-dark md-18"},"house"),r.a.createElement("span",null,t.direccion)))),r.a.createElement("div",{className:"options"},r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"more_vert")),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){i({tipo:"addCliente",id:t.id,nombre:t.nombre,apellido:t.apellido,telefono1:b,telefono2:E,direccion:t.direccion,empresa:t.empresa})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"edit"),"Editar"),r.a.createElement("li",{onClick:function(){i({tipo:"removeCliente",id:t.id,nombre:t.nombre,apellido:t.apellido})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"delete"),"Borrar")))),r.a.createElement("div",{className:"subList"},d.data.length?r.a.createElement("div",{className:"vehiculos"},d.data.map((function(e){return r.a.createElement(w,{key:e.id,vehiculo:e,cliente:t,fabricantes:a,modelos:c,setActivo:l,setDialog:i})}))):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"directions_car"),r.a.createElement("span",null,"Sin vehiculos")),r.a.createElement("div",{className:"add"},r.a.createElement("button",{onClick:function(){i({tipo:"addVehiculo",clienteId:t.id,nombre:t.nombre,apellido:t.apellido})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add"),"Nuevo Vehiculo"))))};var S=function(e){var t=e.reparacion,a=e.setDialog,n={year:"numeric",month:"long",day:"numeric"};return r.a.createElement("div",{className:"reparacion"},r.a.createElement("div",{className:"fecha"},Intl.DateTimeFormat("default",n).format(new Date(t.createdAt))," ",r.a.createElement("i",null,t.km," km")),r.a.createElement("div",{className:"remove"},r.a.createElement("button",{type:"button",onClick:function(){a({tipo:"removeReparacion",id:t.id,fecha:Intl.DateTimeFormat("default",n).format(new Date(t.createdAt))})}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"delete_outline"))),r.a.createElement("h6",{className:"titulo"},t.reparacion),r.a.createElement("p",{className:"repuestos"},t.repuestos),r.a.createElement("div",{className:"costo"},r.a.createElement("span",null,"Repuestos:"),r.a.createElement("b",null,"$",t.costo)),r.a.createElement("div",{className:"labor"},r.a.createElement("span",null,"Mano de obra:"),r.a.createElement("b",null,"$",t.labor)),r.a.createElement("div",{className:"total"},r.a.createElement("span",null,"Total:"),r.a.createElement("b",null,"$",parseInt(t.costo,10)+parseInt(t.labor,10))))};function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=function(e){e.dialog;var t=e.setDialog,a=e.activo,c=e.setActivo,o=e.fabricantes,l=e.modelos,i=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),s=Object(u.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),f=Object(u.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),g=Object(u.a)(h,2),y=g[0],O=g[1],j=Object(n.useState)(!0),N=Object(u.a)(j,2),k=N[0],C=N[1],I=Object(n.useState)({search:""}),D=Object(u.a)(I,2),_=D[0],x=D[1];return Object(n.useEffect)((function(){return C(!0),_.search?(v.service("api/clientes").find({query:{$or:[{nombre:{$iLike:"".concat(_.search,"%")}},{apellido:{$iLike:"".concat(_.search,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){d(e),C(!1)})).catch((function(e){console.log("error",e)})),void v.service("api/vehiculos").find({query:{patente:{$iLike:"".concat(_.search,"%")},$limit:10,$sort:{updatedAt:-1}}}).then((function(e){E(e),C(!1)})).catch((function(e){console.log("error",e)}))):void v.service("api/clientes").find({query:{$limit:10,$sort:{updatedAt:-1}}}).then((function(e){d(e),E({total:0,limit:0,skip:0,data:[]}),C(!1)})).catch((function(e){console.log("error",e)}))}),[_]),Object(n.useEffect)((function(){var e=function(e){x(void 0===e?function(e){return A({},e)}:!1===e?{search:""}:{search:e})};v.service("api/clientes").on("created",(function(t){return e(!1)})),v.service("api/clientes").on("patched",(function(t){return e()})),v.service("api/clientes").on("removed",(function(t){return e()})),v.service("api/vehiculos").on("created",(function(t){return e()})),v.service("api/vehiculos").on("patched",(function(t){return e()})),v.service("api/vehiculos").on("removed",(function(t){return e()}))}),[]),Object(n.useEffect)((function(){a.id&&v.service("api/reparaciones").find({query:{vehiculoId:a.id,$limit:100,$sort:{createdAt:-1}}}).then((function(e){O(e)})).catch((function(e){console.log("error",e)}))}),[a]),r.a.createElement("div",{id:"SearchView",className:"App"},r.a.createElement("div",{id:"searchCard",style:{maxWidth:a.id&&"1260px"}},r.a.createElement("form",{autoComplete:"off",className:"buscar"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"search"),r.a.createElement("input",{type:"search",name:"search",placeholder:"Buscar",onChange:function(e){e.persist(),x({search:e.target.value}),c((function(e){return A({},e,{lista:0})}))},value:_.search,autoFocus:!0}),r.a.createElement("div",{className:"fab"},r.a.createElement("button",{type:"button",onClick:function(){t({tipo:"addCliente"})}},r.a.createElement("i",{className:"material-icons md-light md-36"},"add")))),r.a.createElement("div",{className:"busqueda"},m.data.length||b.data.length||k?m.data.length||b.data.length||!k?void 0:r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"search"),r.a.createElement("h6",null,"No se encontraron resultados")),!k&&m.data.length?r.a.createElement("div",null,r.a.createElement("ul",{className:"busqueda__head"},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"person"),"Clientes"),r.a.createElement("li",null,"Ultimos 10")),m.data.map((function(e){return r.a.createElement(P,{key:e.id,cliente:e,fabricantes:o,modelos:l,activo:a,setActivo:c,setDialog:t})}))):void 0,!k&&b.data.length?r.a.createElement("div",null,r.a.createElement("ul",{className:"busqueda__head"},r.a.createElement("li",null,r.a.createElement("i",{className:"material-icons md-dark md-24"},"directions_car"),"Vehiculos"),r.a.createElement("li",null,"Ultimos 10")),b.data.map((function(e){return r.a.createElement(w,{key:e.id,vehiculo:e,fabricantes:o,modelos:l,setActivo:c,setDialog:t})}))):void 0),r.a.createElement("ul",{id:"vehiculoInfo"},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){c(A({},a,{id:""}))}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"arrow_back"))),r.a.createElement("li",null,r.a.createElement("b",null,a.patente),r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-dark md-18"},"info")),r.a.createElement("ul",null,r.a.createElement("li",null,a.vin||"No se especific\xf3 numero de chasis")))),r.a.createElement("li",null,r.a.createElement("p",null,a.auto),r.a.createElement("span",null,a.year),r.a.createElement("i",{className:"tag"},a.combustible)),r.a.createElement("li",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"person"),a.nombre," ",a.apellido)),r.a.createElement("div",{id:"reparaciones"},y.data.length?y.data.map((function(e){return r.a.createElement(S,{key:e.id,reparacion:e,setDialog:t})})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"build"),r.a.createElement("h6",null,"A\xfan no hay reparaciones")),r.a.createElement("div",{className:"add"},r.a.createElement("button",{onClick:function(){t({tipo:"addReparacion",lista:a.lista,id:a.id,patente:a.patente,km:y.data.length&&y.data[0].km})}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")," ","Nueva Reparacion")))))};a(98);var x=function(e){var t=e.setDialog,a=e.fabricantes,c=e.modelos,o=Object(n.useState)(!0),l=Object(u.a)(o,2),m=l[0],d=l[1],p=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),f=Object(u.a)(p,2),b=f[0],E=f[1];function h(){v.service("api/turnos").find({query:{fecha:{$gt:(new Date).getTime()-864e5},$limit:50,$sort:{fecha:1}}}).then((function(e){E(e)})).catch((function(e){console.error(e)}))}Object(n.useEffect)((function(){!function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,h();case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),v.service("api/turnos").on("created",(function(e){return h()})),v.service("api/turnos").on("removed",(function(e){return h()}))}),[]);var g,y,O=function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{day:"numeric"}).format(t)},j=function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{month:"long"}).format(t)},N=function(e){try{return a.data.find((function(t){return t.id===c.data.find((function(t){return t.id===e})).fabricanteId})).nombre+" "+c.data.find((function(t){return t.id===e})).nombre}catch(t){return"ERROR"}};return r.a.createElement("div",{id:"TurnosView",className:"App"},r.a.createElement("div",{id:"turnos"},m?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"})):b.data.length?b.data.map((function(e){return r.a.createElement("div",{key:e.id,className:g===e.fecha?"turno":"turno turno--date"},new Date(y).getMonth()===new Date(e.fecha).getMonth()?void 0:r.a.createElement("div",{className:"turno__mes"},j(y=e.fecha)),r.a.createElement("ul",null,g===e.fecha?r.a.createElement("li",{className:"turno__fecha"}," "):r.a.createElement("li",{className:"turno__fecha"},r.a.createElement("div",{className:"day"},function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{weekday:"short"}).format(t)}(e.fecha)),r.a.createElement("div",{className:"date"},O(g=e.fecha))),r.a.createElement("li",{className:"turno__cuerpo"},e.motivo,r.a.createElement("span",null," ","- ",N(e.modeloId))),r.a.createElement("li",{className:"remove"},r.a.createElement("button",{type:"button",className:"remove",onClick:function(){t({tipo:"removeTurno",id:e.id,fecha:O(e.fecha),mes:j(e.fecha),auto:N(e.modeloId)})}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"delete_outline")))))})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"event"),r.a.createElement("h6",null,"No hay turnos agendados"))),r.a.createElement("div",{className:"fab"},r.a.createElement("button",{type:"button",onClick:function(){t({tipo:"addTurno"})}},r.a.createElement("i",{className:"material-icons md-light md-36"},"add"))))},$=a(3);a(108);var B=function(e){var t=e.user,a=e.presupuesto,n=e.auto,c=parseInt(a.labor,10)+a.repuestos.reduce((function(e,t){return e+t.precio}),0),o={border:"1px solid grey",borderRadius:"2px",fontWeight:"500"};return r.a.createElement($.Box,{cellSpacing:30},r.a.createElement($.Item,null,r.a.createElement($.Box,{cellSpacing:30,width:"100%",align:"center",style:{borderBottom:"1px solid grey"}},r.a.createElement($.Item,{align:"center"},r.a.createElement($.Span,{fontSize:16},"montiel"===t?"Inyeccion Electronica - Airbag - ABS - Alarmas - Accesorios":"SERVICIO ESPECIALIZADO FORD")),r.a.createElement($.Item,{align:"center"},r.a.createElement($.Span,{fontSize:34},"montiel"===t?"Taller Montiel":"Gabriel Mezzanotte")),r.a.createElement($.Item,{align:"center"},r.a.createElement($.Span,{fontSize:16},"montiel"===t?"Vertiz 8190 - (0223) 155-063679 - montielelectroauto@gmail.com":"La Pampa 2265 - (0223) 475-2335 - gabimezzanotte@gmail.com (7600) Mar del Plata")))),r.a.createElement($.Item,null,r.a.createElement($.Box,{cellSpacing:20,width:"100%"},r.a.createElement($.Item,null,r.a.createElement($.Span,{fontSize:20,lineHeight:40},"Presupuesto - ",function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{year:"numeric",month:"long",day:"numeric"}).format(t)}(a.createdAt)))),r.a.createElement($.Box,{cellSpacing:5,cellPadding:10,width:"600",style:{border:"1px solid grey"}},r.a.createElement("tr",null,r.a.createElement("th",{style:o},"Patente"),r.a.createElement("th",{style:o},"Vehiculo"),r.a.createElement("th",{style:o},"Kilometros")),r.a.createElement("tr",null,r.a.createElement("td",null,a.patente.toUpperCase()),r.a.createElement("td",null,n),r.a.createElement("td",{align:"right"},a.km))),r.a.createElement($.Box,{cellSpacing:20,width:"100%"},r.a.createElement($.Item,null,r.a.createElement($.Span,{fontSize:20,lineHeight:40},"Reparacion"))),r.a.createElement($.Box,{cellSpacing:5,cellPadding:10,width:"600",style:{border:"1px solid grey"}},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:o},"Motivo"),r.a.createElement("th",{style:o},"Mano de obra")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},a.motivo),r.a.createElement("td",{align:"right"},a.labor,"$")),r.a.createElement("tr",null,r.a.createElement("th",{style:o},"Cantidad"),r.a.createElement("th",{style:o},"Repuesto"),r.a.createElement("th",{style:o},"Precio")),a.repuestos.length?a.repuestos.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{align:"center"},e.cantidad),r.a.createElement("td",null,e.repuesto),r.a.createElement("td",{align:"right"},e.precio,"$"))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"No se detallaron repuestos"),r.a.createElement("td",{align:"right"},"0$")),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"}),r.a.createElement("th",{style:o},"Total")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"}),r.a.createElement("td",{align:"right"},c,"$")))),r.a.createElement($.Item,null,r.a.createElement($.Box,{cellSpacing:20,width:"100%",style:{borderTop:"1px solid grey"}},r.a.createElement($.Item,{align:"right"},r.a.createElement($.Span,{color:"gray",lineHeight:20},"\xa9 2019"," ",r.a.createElement($.A,{href:"https://calarco.com.ar"},"CalarcoWEB"))))))};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=function(e){var t=e.user,a=e.setDialog,c=e.setSnackbar,o=e.activo,l=e.setActivo,m=e.fabricantes,d=e.modelos,p=Object(n.useState)({}),f=Object(u.a)(p,2),b=f[0],E=f[1],g=Object(n.useState)({presupuestos:!0,email:!1}),y=Object(u.a)(g,2),O=y[0],j=y[1],N=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),k=Object(u.a)(N,2),w=k[0],C=k[1];function I(){v.service("api/presupuestos").find({query:{$limit:50,$sort:{createdAt:-1}}}).then((function(e){C(e)})).catch((function(e){console.error(e)}))}Object(n.useEffect)((function(){!function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({presupuestos:!0}),e.next=3,I();case 3:j({presupuestos:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),v.service("api/presupuestos").on("created",(function(e){return I()})),v.service("api/presupuestos").on("removed",(function(e){return I()}))}),[]);var P=function(e){var t=new Date(e);return Intl.DateTimeFormat("default",{year:"numeric",month:"short",day:"numeric"}).format(t)},S=function(e){try{return m.data.find((function(t){return t.id===d.data.find((function(t){return t.id===e})).fabricanteId})).nombre+" "+d.data.find((function(t){return t.id===e})).nombre}catch(t){return"ERROR"}};return r.a.createElement("div",{id:"PresupuestosView",className:"App"},r.a.createElement("div",{id:"presupuestos",className:"mainCard",style:{maxWidth:o.presupuesto&&"100%"}},r.a.createElement("div",{id:"listaHead"},r.a.createElement("h6",null,"Presupuestos"),r.a.createElement("div",{className:"fab"},r.a.createElement("button",{type:"button",onClick:function(){a({tipo:"addPresupuesto"})}},r.a.createElement("i",{className:"material-icons md-light md-36"},"add")))),r.a.createElement("div",{id:"lista"},!0===O.presupuestos?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"})):w.data.length?w.data.map((function(e){return r.a.createElement("div",{className:"presupuesto",key:e.id},r.a.createElement("ul",{onClick:function(){return l((function(t){return V({},t,{presupuesto:e})}))}},r.a.createElement("li",null,P(e.createdAt)),r.a.createElement("li",null,r.a.createElement("b",null,e.patente),r.a.createElement("span",null,S(e.modeloId)))),r.a.createElement("li",{className:"remove"},r.a.createElement("button",{type:"button",className:"remove",onClick:function(){a({tipo:"removePresupuesto",id:e.id,patente:e.patente,fecha:P(e.createdAt)})}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"delete_outline"))))})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"event"),r.a.createElement("h6",null,"No se confeccionaron presupuestos"))),r.a.createElement("div",{id:"mensajeHead"},r.a.createElement("button",{onClick:function(){l(V({},o,{presupuesto:""}))}},r.a.createElement("i",{className:"material-icons md-dark md-24"},"arrow_back")),!0===O.email?r.a.createElement("div",{className:"spinner"}):r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j({email:!0}),v.service("api/emails").create({to:b.email,subject:"Servicio Especializado | Gabriel Mezzanotte",html:Object($.renderEmail)(r.a.createElement($.Email,{title:"Presupuesto"},r.a.createElement(B,{user:t,presupuesto:o.presupuesto,auto:S(o.presupuesto.modeloId)})))}).then((function(e){c("Presupuesto enviado a "+e.accepted[0]),E({}),j({email:!1})})).catch((function(e){console.error(e)}))},className:"enviar"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Direccion de correo",value:b.email||"",onChange:function(e){e.persist(),E((function(t){return V({},t,Object(h.a)({},e.target.name,e.target.value))}))},required:!0}),r.a.createElement("button",{type:"submit"},"Enviar"))),r.a.createElement("div",{id:"mensaje",style:{maxHeight:o.presupuesto&&"1000px"}},o.presupuesto&&r.a.createElement(B,{user:t,presupuesto:o.presupuesto,auto:S(o.presupuesto.modeloId)}))))};a(109);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R=function(e,t,a){var r=Object(n.useState)({}),c=Object(u.a)(r,2),o=c[0],l=c[1],i=Object(n.useState)({}),s=Object(u.a)(i,2),m=s[0],d=s[1];Object(n.useEffect)((function(){a.id&&l(a)}),[a]);return{inputs:o,setInputs:l,errors:m,handleInputChange:function(e){e.persist(),l((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,Object(h.a)({},e.target.name,e.target.value))}))},handleSubmit:function(a){a&&a.preventDefault(),d(t(o)),0===Object.keys(t(o)).length&&e()}}};function U(e){var t={};return e.nombre||(t.nombre="Ingrese un nombre"),e.telefono1?/\s/.test(e.telefono1)&&(t.telefono1="El telefono no puede contener espacios"):t.telefono1="Ingrese un numero de telefono",t}var M=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.setActivo,o=function(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")},l=R((function(){a.id?v.service("api/clientes").patch(a.id,{nombre:o(i.nombre),apellido:o(i.apellido),telefono:i.telefono2?i.telefono1+" "+i.telefono2:i.telefono1,direccion:o(i.direccion),empresa:i.empresa,updatedAt:Date()}).then((function(e){c({lista:e.id}),n("Cliente guardado"),t()})).catch((function(e){console.error(e)})):v.service("api/clientes").create({nombre:o(i.nombre),apellido:o(i.apellido),telefono:i.telefono2?i.telefono1+" "+i.telefono2:i.telefono1,direccion:o(i.direccion),empresa:i.empresa,createdAt:Date(),updatedAt:Date()}).then((function(e){c({lista:e.id}),n("Cliente creado"),t()})).catch((function(e){console.error(e)}))}),U,a),i=l.inputs,s=l.errors,u=l.handleInputChange,m=l.handleSubmit;return r.a.createElement("form",{onSubmit:m,id:"addCliente",className:"dialog",noValidate:!0},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},a.id?"Editar":"Nuevo"," cliente")),r.a.createElement("ul",null,r.a.createElement("li",{id:"nombre",className:s.nombre&&"error"},r.a.createElement("span",null,s.nombre||"Nombre"),r.a.createElement("input",{type:"text",name:"nombre",placeholder:"-",value:i.nombre||"",onChange:u,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"apellido"},r.a.createElement("span",null,"Apellido"),r.a.createElement("input",{type:"text",name:"apellido",placeholder:"-",value:i.apellido||"",onChange:u,autoComplete:"off"})),r.a.createElement("li",{id:"telefono1",className:s.telefono1&&"error"},r.a.createElement("span",null,s.telefono1||"Telefono 1"),r.a.createElement("input",{type:"tel",pattern:"\\d*",title:"Telefono 1",name:"telefono1",placeholder:"-",value:i.telefono1||"",onChange:u,autoComplete:"off"})),r.a.createElement("li",{id:"telefono2"},r.a.createElement("span",null,"Telefono 2"),r.a.createElement("input",{type:"tel",name:"telefono2",placeholder:"-",value:i.telefono2||"",onChange:u,autoComplete:"off"})),r.a.createElement("li",{id:"direccion"},r.a.createElement("span",null,"Direccion"),r.a.createElement("input",{type:"text",name:"direccion",placeholder:"-",value:i.direccion||"",onChange:u,autoComplete:"off"})),r.a.createElement("li",{id:"empresa"},r.a.createElement("span",null,"Empresa"),r.a.createElement("input",{type:"text",name:"empresa",placeholder:"-",value:i.empresa||"",onChange:u}))),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:a.id?"Guardar":"Agregar"})))};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.activo,o=e.setActivo;return r.a.createElement("div",{id:"removeCliente",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar cliente ",a.nombre," ",a.apellido," y sus vehiculos asociados?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){var e;e=a.id,v.service("api/clientes").remove(e).then((function(a){v.service("api/vehiculos").remove(null,{query:{clienteId:null}}).then((function(a){v.service("api/reparaciones").remove(null,{query:{vehiculoId:null}}).then((function(a){c.clienteId===e&&o((function(e){return z({},e,{id:""})})),c.lista===e&&o((function(e){return z({},e,{lista:0})})),n("Cliente eliminado"),t()})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}},"Borrar")))};function H(e){var t={};return e.patente||(t.patente="Ingrese la patente"),e.vin&&(17!==e.vin.length?t.vin="El VIN debe contener 17 caracteres":/\s/.test(e.vin)?t.vin="El vin no puede contener espacios":e.vin.toUpperCase().includes("O")?t.vin="El vin no puede contener la letra O":e.vin.toUpperCase().includes("I")?t.vin="El vin no puede contener la letra I":e.vin.toUpperCase().includes("Q")&&(t.vin="El vin no puede contener la letra Q")),t}function W(e){var t={};return e.modelo||(t.modelo="Ingrese el modelo"),t}function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=function(e){var t=e.temps,a=e.setTemps,n=e.current,c=e.dialog,o=e.setSnackbar,l=R((function(){v.service("api/modelos").create({nombre:d(i.modelo),createdAt:Date(),updatedAt:Date(),fabricanteId:t.fabricanteId}).then((function(e){o("Modelo agregado"),a((function(t){return J({},t,{modeloId:e.id})}))})).catch((function(e){console.error(e)}))}),W,c),i=l.inputs,s=l.errors,u=l.handleInputChange,m=l.handleSubmit,d=function(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};return r.a.createElement("form",{onSubmit:m,id:"newModelo",className:s.modelo&&"error",noValidate:!0},r.a.createElement("span",null,s.modelo||"Nuevo modelo"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",style:{display:!n.data.length&&"none"},onClick:function(){return a((function(e){return J({},e,{modeloId:n.data[0].id})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"chevron_left")),r.a.createElement("input",{type:"text",name:"modelo",placeholder:"-",value:i.modelo||"",onChange:u,id:"modeloInput",autoFocus:!0,required:!0}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"material-icons md-dark md-18"},"done"))))};function Y(e){var t={};return e.fabricante||(t.fabricante="Ingrese el fabricante"),t}function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(e){var t=e.setTemps,a=e.fabricantes,n=e.dialog,c=e.setSnackbar,o=R((function(){v.service("api/fabricantes").create({nombre:m(l.fabricante),createdAt:Date(),updatedAt:Date()}).then((function(e){c("Fabricante agregado"),t((function(t){return X({},t,{fabricanteId:e.id})}))})).catch((function(e){400===e.code&&document.getElementById("newFabricante").classList.add("error"),console.error(e)}))}),Y,n),l=o.inputs,i=o.errors,s=o.handleInputChange,u=o.handleSubmit,m=function(e){return"string"!==typeof e?"":e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};return r.a.createElement("form",{onSubmit:u,id:"newFabricante",className:i.fabricante&&"error",noValidate:!0},r.a.createElement("span",null,i.fabricante||"Nuevo fabricante"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",style:{display:!a.data.length&&"none"},onClick:function(){return t((function(e){return X({},e,{fabricanteId:a.data[0].id})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"chevron_left")),r.a.createElement("input",{type:"text",name:"fabricante",placeholder:"Nuevo",value:l.fabricante||"",onChange:s,id:"fabricanteInput",autoFocus:!0,required:!0}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"material-icons md-dark md-18"},"done"))))};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=function(e){var t=e.dialog,a=e.setSnackbar,c=e.fabricantes,o=e.modelos,l=e.inputs,i=e.setInputs,s=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),m=Object(u.a)(s,2),d=m[0],p=m[1],f=function(e){e.persist(),i((function(t){return ae({},t,Object(h.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){l.fabricanteId||(c.data.length?i((function(e){return ae({},e,{fabricanteId:c.data[0].id})})):i((function(e){return ae({},e,{fabricanteId:"nuevo"})})))}),[c]),Object(n.useEffect)((function(){if("nuevo"!==l.fabricanteId){var e=o.data.filter((function(e){return e.fabricanteId===parseInt(l.fabricanteId,10)}));p({total:0,limit:0,skip:0,data:e}),e.length?i((function(t){return ae({},t,{modeloId:e[0].id})})):i((function(e){return ae({},e,{modeloId:"nuevo"})}))}}),[l.fabricanteId,o]),r.a.createElement("li",{className:"tipo"},"nuevo"===l.fabricanteId?r.a.createElement(ee,{setTemps:i,fabricantes:c,dialog:t,setSnackbar:a}):r.a.createElement("div",{id:"fabricante"},r.a.createElement("span",null,"Fabricante"),r.a.createElement("div",null,r.a.createElement("select",{name:"fabricanteId",value:l.fabricanteId,onChange:f,id:"fabricantes"},c.data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){i((function(e){return ae({},e,{fabricanteId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))),"nuevo"===l.fabricanteId?void 0:"nuevo"===l.modeloId?r.a.createElement(Q,{temps:l,setTemps:i,current:d,dialog:t,setSnackbar:a}):r.a.createElement("div",{id:"modelo"},r.a.createElement("span",null,"Modelo"),r.a.createElement("div",null,r.a.createElement("select",{name:"modeloId",value:l.modeloId,onChange:f,id:"modelos"},d.data.map((function(e){return r.a.createElement("option",{key:e.id||0,value:e.id},e.nombre)}))),r.a.createElement("button",{type:"button",onClick:function(){i((function(e){return ae({},e,{modeloId:"nuevo"})}))}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add")))))};var re=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.fabricantes,o=e.modelos,l=e.setActivo,i=R((function(){v.service("api/vehiculos").create({patente:s.patente.toUpperCase(),year:s.year||"2019",combustible:s.combustible||"Nafta",vin:(s.vin||"").toUpperCase(),createdAt:Date(),updatedAt:Date(),clienteId:a.clienteId,modeloId:s.modeloId}).then((function(e){v.service("api/clientes").patch(e.clienteId,{createdAt:Date()}).then((function(e){})).catch((function(e){console.error(e)})),l({lista:e.clienteId,id:e.id,patente:e.patente,year:e.year,combustible:e.combustible,clienteId:e.clienteId,nombre:a.nombre,apellido:a.apellido,auto:document.getElementById("fabricantes").selectedOptions[0].text+" "+document.getElementById("modelos").selectedOptions[0].text,km:"0"}),n("Vehiculo creado"),t()})).catch((function(e){400===e.code&&(document.getElementById("patente").className="error"),console.error(e)}))}),H,a),s=i.inputs,u=i.setInputs,m=i.errors,d=i.handleInputChange,p=i.handleSubmit;return r.a.createElement("div",{id:"addVehiculo",className:"dialog"},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Nuevo vehiculo"),r.a.createElement("div",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"person"),a.nombre," ",a.apellido)),r.a.createElement("ul",null,r.a.createElement("li",{id:"patente",className:m.patente&&"error"},r.a.createElement("span",null,m.patente||"Patente"),r.a.createElement("input",{type:"text",name:"patente",placeholder:"-",form:"AddVehiculoForm",value:s.patente||"",onChange:d,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"year"},r.a.createElement("span",null,"A\xf1o"),r.a.createElement("input",{type:"number",min:"1900",max:"9999",name:"year",placeholder:"-",form:"AddVehiculoForm",value:s.year||"2019",onChange:d})),r.a.createElement("li",{id:"combustible"},r.a.createElement("span",null,"Combustible"),r.a.createElement("select",{name:"combustible",form:"AddVehiculoForm",value:s.combustible||"Nafta",onChange:d},r.a.createElement("option",{value:"Nafta"},"Nafta"),r.a.createElement("option",{value:"Diesel"},"Diesel"),r.a.createElement("option",{value:"GNC"},"GNC"))),r.a.createElement(ne,{dialog:a,setSnackbar:n,fabricantes:c,modelos:o,inputs:s,setInputs:u})),r.a.createElement("form",{onSubmit:p,id:"AddVehiculoForm",className:"dialog__buttons",noValidate:!0},r.a.createElement("div",{id:"vin",className:m.vin&&"error"},r.a.createElement("span",null,m.vin||"VIN"),r.a.createElement("input",{type:"text",name:"vin",placeholder:"-",form:"AddVehiculoForm",value:s.vin||"",onChange:d,autoComplete:"off"})),r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Agregar",disabled:"nuevo"===s.modeloId||"nuevo"===s.fabricanteId})))};function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var oe=function(e){var t=e.close,a=e.dialog,c=e.setSnackbar,o=e.setActivo,l=Object(n.useState)({total:0,limit:0,skip:0,data:[]}),i=Object(u.a)(l,2),s=i[0],m=i[1],d=R((function(){v.service("api/vehiculos").patch(a.id,{vin:p.vin.toUpperCase()||"",updatedAt:Date(),clienteId:p.clienteId}).then((function(e){v.service("api/clientes").patch(e.clienteId,{updatedAt:Date()}).then((function(e){})).catch((function(e){console.error(e)})),o((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{lista:e.clienteId,id:e.id,patente:e.patente,vin:e.vin,clienteId:e.clienteId,nombre:a.nombre,apellido:a.apellido})})),c("Vehiculo guardado"),t()})).catch((function(e){400===e.code&&(document.getElementById("patente").className="error"),console.error(e)}))}),H,a),p=d.inputs,f=d.errors,b=d.handleInputChange,E=d.handleSubmit;return Object(n.useEffect)((function(){p.search?v.service("api/clientes").find({query:{$or:[{nombre:{$iLike:"".concat(p.search,"%")}},{apellido:{$iLike:"".concat(p.search,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){m(e)})).catch((function(e){console.log("error",e)})):v.service("api/clientes").find({query:{$or:[{nombre:{$iLike:"".concat(a.nombre,"%")}},{apellido:{$iLike:"".concat(a.apellido,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){m(e)})).catch((function(e){console.log("error",e)}))}),[p.search,a]),r.a.createElement("form",{onSubmit:E,id:"editVehiculo",className:"dialog",noValidate:!0},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Editar vehiculo"),r.a.createElement("div",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"directions_car"),a.patente)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Propietario"),r.a.createElement("input",{type:"search",name:"search",list:"datalist",placeholder:"Buscar",value:p.search||"",onChange:b,autoComplete:"off"})),r.a.createElement("ul",{id:"datalist"},s.data.length?s.data.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("input",{type:"radio",name:"clienteId",value:e.id,onChange:b,id:e.id,checked:e.id===p.clienteId,required:!0}),r.a.createElement("label",{htmlFor:e.id},r.a.createElement("b",null,e.nombre+" "+e.apellido)))})):r.a.createElement("div",{className:"empty"},r.a.createElement("i",{className:"material-icons md-dark md-inactive md-48"},"search"),r.a.createElement("h6",null,"No se encontraron clientes"))),r.a.createElement("div",{id:"vin",className:f.vin&&"error"},r.a.createElement("span",null,f.vin||"VIN"),r.a.createElement("input",{type:"text",name:"vin",placeholder:"-",form:"AddVehiculoForm",value:p.vin||"",onChange:b,autoComplete:"off"}))),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Guardar",disabled:!p.clienteId})))};function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ie=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.activo,o=e.setActivo,l=function(e){v.service("api/reparaciones").remove(null,{query:{vehiculoId:e}}).then((function(a){v.service("api/vehiculos").remove(e).then((function(e){c.id===e.id&&o((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{id:""})})),n("Vehiculo eliminado"),t()})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))};return r.a.createElement("div",{id:"removeVehiculo",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar vehiculo ",a.patente,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){l(a.id)}},"Borrar")))};function se(e){var t={};return e.reparacion||(t.reparacion="Ingrese la reparacion"),t}function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var me=function(e){var t=e.dialog,a=e.close,n=e.setSnackbar,c=e.setActivo,o=R((function(){v.service("api/reparaciones").create({km:l.km||"0",reparacion:m(l.reparacion),repuestos:m(l.repuestos),costo:l.costo||"0",labor:l.labor||"0",createdAt:Date(),updatedAt:Date(),vehiculoId:t.id}).then((function(e){v.service("api/clientes").patch(t.clienteId,{createdAt:e.createdAt}).then((function(e){})).catch((function(e){console.error(e)})),c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{id:e.vehiculoId})})),n("Reparacion creada"),a()})).catch((function(e){console.error(e)}))}),se,t),l=o.inputs,i=o.errors,s=o.handleInputChange,u=o.handleSubmit,m=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.substring(1)},d=new Date,p=Intl.DateTimeFormat("default",{month:"long",day:"numeric"}).format(d);return r.a.createElement("form",{onSubmit:u,id:"addReparacion",className:"dialog",noValidate:!0},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Nueva reparacion"),r.a.createElement("div",{className:"info"},r.a.createElement("i",{className:"material-icons md-dark md-24"},"directions_car"),t.patente)),r.a.createElement("ul",null,r.a.createElement("li",{id:"fecha"},r.a.createElement("span",null,"Fecha"),r.a.createElement("p",null,p)),r.a.createElement("li",{id:"ultimo"},r.a.createElement("span",null,"Ultimo servicio"),r.a.createElement("p",null,t.km," km")),r.a.createElement("li",{id:"km"},r.a.createElement("span",null,"Kilometros"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"km",placeholder:"0",value:l.km||"",onChange:s})),r.a.createElement("li",{id:"reparacion",className:i.reparacion&&"error"},r.a.createElement("span",null,i.reparacion||"Reparacion"),r.a.createElement("input",{type:"text",name:"reparacion",placeholder:"-",value:l.reparacion||"",onChange:s,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"repuestos"},r.a.createElement("span",null,"Repuestos"),r.a.createElement("input",{type:"text",name:"repuestos",placeholder:"-",value:l.repuestos,onChange:s,autoComplete:"off"})),r.a.createElement("li",{id:"costo"},r.a.createElement("span",null,"Precio"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"costo",placeholder:"0",value:l.costo||"",onChange:s})),r.a.createElement("li",{id:"labor"},r.a.createElement("span",null,"Mano de Obra"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"labor",placeholder:"0",value:l.labor||"",onChange:s}))),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("div",{className:"dialog__total"},"Total",r.a.createElement("b",null,"$",(parseInt(l.costo,10)||0)+(parseInt(l.labor,10)||0))),r.a.createElement("button",{type:"button",onClick:function(){return a()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Agregar"})))};function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var pe=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.setActivo,o=function(e){v.service("api/reparaciones").remove(e).then((function(e){c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{id:e.vehiculoId})})),n("Reparacion eliminada"),t()})).catch((function(e){console.error(e)}))};return r.a.createElement("div",{id:"removeReparacion",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar reparacion del ",a.fecha,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){o(a.id)}},"Borrar")))};function fe(e){var t={};return e.motivo||(t.motivo="Ingrese el motivo"),t}var be=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.fabricantes,o=e.modelos,l=R((function(){v.service("api/turnos").create({fecha:(i.fecha||p())+" 23:59:59",motivo:f(i.motivo),createdAt:Date(),updatedAt:Date(),modeloId:i.modeloId}).then((function(e){n("Turno creado"),t()})).catch((function(e){400===e.code&&(document.getElementById("patente").className="error"),console.error(e)}))}),fe,a),i=l.inputs,s=l.setInputs,u=l.errors,m=l.handleInputChange,d=l.handleSubmit,p=function(e){var t=new Date,a=t.getDate();a<10&&(a="0"+a);var n=t.getMonth()+1;return n<10&&(n="0"+n),t.getFullYear()+"-"+n+"-"+a},f=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.substring(1)};return r.a.createElement("div",{id:"addTurno",className:"dialog"},r.a.createElement("ul",null,r.a.createElement("h5",{className:"title"},"Nuevo turno"),r.a.createElement("li",{id:"fecha"},r.a.createElement("span",null,"Fecha"),r.a.createElement("input",{type:"date",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",name:"fecha",placeholder:"-",form:"AddTurnoForm",value:i.fecha||p(),onChange:m,required:!0})),r.a.createElement("li",{id:"motivo",className:u.motivo&&"error"},r.a.createElement("span",null,u.motivo||"Motivo"),r.a.createElement("input",{type:"text",name:"motivo",placeholder:"-",form:"AddTurnoForm",value:i.motivo||"",onChange:m,autoComplete:"off",required:!0})),r.a.createElement(ne,{dialog:a,setSnackbar:n,fabricantes:c,modelos:o,inputs:i,setInputs:s})),r.a.createElement("form",{onSubmit:d,id:"AddTurnoForm",className:"dialog__buttons",noValidate:!0},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Agregar",disabled:"nuevo"===i.modeloId||"nuevo"===i.fabricanteId})))};var Ee=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar;return r.a.createElement("div",{id:"removeTurno",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar turno del ",a.fecha," de ",a.mes," para"," ",a.auto,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){var e;e=a.id,v.service("api/turnos").remove(e).then((function(e){n("Turno eliminado"),t()})).catch((function(e){console.error(e)}))}},"Borrar")))},ve=a(32);function he(e){var t={};return e.patente||(t.patente="Ingrese la patente"),e.motivo||(t.motivo="Ingrese el motivo"),t}function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Oe=function(e){var t=e.close,a=e.dialog,c=e.setSnackbar,o=e.fabricantes,l=e.modelos,i=e.activo,s=e.setActivo,m=Object(n.useState)([]),d=Object(u.a)(m,2),p=d[0],f=d[1],b=R((function(){v.service("api/presupuestos").create({patente:E.patente.toUpperCase(),km:E.km||"0",motivo:j(E.motivo),labor:E.labor||"0",repuestos:p,createdAt:Date(),updatedAt:Date(),modeloId:E.modeloId}).then((function(e){s(ye({},i,{presupuesto:e})),c("Presupuesto creado"),t()})).catch((function(e){console.error(e)}))}),he,a),E=b.inputs,h=b.setInputs,g=b.errors,y=b.handleInputChange,O=b.handleSubmit,j=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.substring(1)};return r.a.createElement("div",{id:"addPresupuesto",className:"dialog"},r.a.createElement("div",{className:"dialog__head"},r.a.createElement("h5",{className:"title"},"Nuevo presupuesto")),r.a.createElement("ul",null,r.a.createElement("li",{id:"patente",className:g.patente&&"error"},r.a.createElement("span",null,g.patente||"Patente"),r.a.createElement("input",{type:"text",name:"patente",placeholder:"-",value:E.patente||"",onChange:y,autoComplete:"off",required:!0})),r.a.createElement(ne,{dialog:a,setSnackbar:c,fabricantes:o,modelos:l,inputs:E,setInputs:h}),r.a.createElement("li",{id:"km"},r.a.createElement("span",null,"Kilometros"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"km",placeholder:"0",form:"AddPresupuestoForm",value:E.km||"",onChange:y})),r.a.createElement("li",{id:"reparacion",className:g.motivo&&"error"},r.a.createElement("span",null,g.motivo||"Motivo"),r.a.createElement("input",{type:"text",name:"motivo",placeholder:"-",form:"AddPresupuestoForm",value:E.motivo||"",onChange:y,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"labor"},r.a.createElement("span",null,"Mano de Obra"),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"labor",placeholder:"0",form:"AddPresupuestoForm",value:E.labor||"",onChange:y})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=[].concat(Object(ve.a)(p),[{cantidad:E.cantidad||"1",repuesto:j(E.repuesto),precio:parseInt(E.precio,10)||"0"}]);f(t),h((function(e){return ye({},e,{cantidad:1,repuesto:"",precio:0})}))},id:"repuestos"},r.a.createElement("ul",{id:"columnHeader"},r.a.createElement("li",null,"Cantidad"),r.a.createElement("li",null,"Repuesto"),r.a.createElement("li",null,"Precio"),r.a.createElement("li",null)),p.length?p.map((function(e,t){return r.a.createElement("ul",{key:t},r.a.createElement("li",null,e.cantidad),r.a.createElement("li",null,e.repuesto),r.a.createElement("li",null,e.precio,"$"),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t=Object(ve.a)(p);t.splice(e,1),f(t)}(t)}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"delete")))})):r.a.createElement("div",{className:"empty"},"No se detallan repuestos"),r.a.createElement("ul",{id:"addRepuesto"},r.a.createElement("li",{id:"cantidad"},r.a.createElement("input",{type:"number",min:"000001",max:"999999",name:"cantidad",placeholder:"1",value:"1"|E.cantidad,onChange:y})),r.a.createElement("li",{id:""},r.a.createElement("input",{type:"text",name:"repuesto",placeholder:"Repuesto",value:E.repuesto||"",onChange:y,autoComplete:"off",required:!0})),r.a.createElement("li",{id:"costo"},r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"precio",placeholder:"0",value:E.precio||"",onChange:y})),r.a.createElement("button",{type:"submit",onClick:function(){}},r.a.createElement("i",{className:"material-icons md-dark md-18"},"add"))))),r.a.createElement("form",{onSubmit:O,id:"AddPresupuestoForm",className:"dialog__buttons",noValidate:!0},r.a.createElement("div",{className:"dialog__total"},"Total",r.a.createElement("b",null,"$",(parseInt(E.labor,10)||0)+p.reduce((function(e,t){var a=t.precio;return e+parseInt(a,10)}),0))),r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("input",{type:"submit",value:"Guardar",disabled:"nuevo"===E.modeloId||"nuevo"===E.fabricanteId})))};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ne=function(e){var t=e.close,a=e.dialog,n=e.setSnackbar,c=e.activo,o=e.setActivo,l=function(e){v.service("api/presupuestos").remove(e).then((function(e){e.id===c.presupuesto.id&&o(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,{presupuesto:""})),n("Presupuesto eliminado"),t()})).catch((function(e){console.error(e)}))};return r.a.createElement("div",{id:"removePresupuesto",className:"dialog"},r.a.createElement("p",{className:"body"},"\xbfBorrar presupuesto para ",a.patente," del ",a.fecha,"?"),r.a.createElement("div",{className:"dialog__buttons"},r.a.createElement("button",{type:"button",onClick:function(){return t()}},"Cancelar"),r.a.createElement("button",{className:"remove",onClick:function(){l(a.id)}},"Borrar")))};var ke=function(e){var t=e.dialog,a=e.setDialog,n=e.setSnackbar,c=e.activo,o=e.setActivo,l=e.fabricantes,i=e.modelos,s=function(){document.getElementById("overlay").classList.remove("overlay--show"),document.getElementById("dialogs").classList.remove("dialogs--show"),setTimeout((function(){a({})}),500)};return r.a.createElement("div",null,r.a.createElement("div",{id:"overlay",className:t.tipo?"overlay overlay--show":"overlay",onClick:function(){return s()}}),r.a.createElement("div",{id:"dialogs",className:t.tipo?"dialogs dialogs--show":"dialogs"},"addCliente"===t.tipo&&r.a.createElement(M,{close:s,dialog:t,setSnackbar:n,setActivo:o}),"addVehiculo"===t.tipo&&r.a.createElement(re,{close:s,dialog:t,setSnackbar:n,setActivo:o,fabricantes:l,modelos:i}),"editVehiculo"===t.tipo&&r.a.createElement(oe,{close:s,dialog:t,setSnackbar:n,setActivo:o}),"addReparacion"===t.tipo&&r.a.createElement(me,{close:s,dialog:t,setSnackbar:n,setActivo:o}),"removeCliente"===t.tipo&&r.a.createElement(G,{close:s,dialog:t,setSnackbar:n,activo:c,setActivo:o}),"removeVehiculo"===t.tipo&&r.a.createElement(ie,{close:s,dialog:t,setSnackbar:n,activo:c,setActivo:o}),"removeReparacion"===t.tipo&&r.a.createElement(pe,{close:s,dialog:t,setSnackbar:n,setActivo:o}),"addTurno"===t.tipo&&r.a.createElement(be,{close:s,dialog:t,setSnackbar:n,fabricantes:l,modelos:i}),"removeTurno"===t.tipo&&r.a.createElement(Ee,{close:s,dialog:t,setSnackbar:n}),"addPresupuesto"===t.tipo&&r.a.createElement(Oe,{close:s,dialog:t,setSnackbar:n,activo:c,setActivo:o,fabricantes:l,modelos:i}),"removePresupuesto"===t.tipo&&r.a.createElement(Ne,{close:s,dialog:t,setSnackbar:n,activo:c,setActivo:o})))},we=r.a.createContext({setUser:function(){},user:null});var Ce=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),l=Object(u.a)(o,2),p=l[0],f=l[1],b=Object(n.useState)({}),E=Object(u.a)(b,2),h=E[0],g=E[1],y=Object(n.useState)(""),j=Object(u.a)(y,2),N=j[0],w=j[1],C=Object(n.useState)(!0),I=Object(u.a)(C,2),P=I[0],S=I[1],D=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),A=Object(u.a)(D,2),$=A[0],B=A[1],T=Object(n.useState)({total:0,limit:0,skip:0,data:[{}]}),V=Object(u.a)(T,2),q=V[0],R=V[1];function U(){v.service("api/fabricantes").find({query:{$limit:100,$sort:{nombre:1}}}).then((function(e){B(e),v.service("api/modelos").find({query:{$limit:200,$sort:{nombre:1}}}).then((function(e){R(e)})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}return Object(n.useEffect)((function(){window.localStorage.getItem("feathers-jwt")?function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.authenticate().then((function(e){var t=e.user;return c(t)})).catch(console.log);case 2:S(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():S(!1),v.service("api/fabricantes").on("created",(function(e){return U()})),v.service("api/modelos").on("created",(function(e){return U()}))}),[]),Object(n.useEffect)((function(){U()}),[a]),Object(n.useEffect)((function(){""!==N&&(setTimeout((function(){document.getElementById("snackbar").classList.remove("snackbar--show")}),5e3),setTimeout((function(){w("")}),5500))}),[N]),r.a.createElement(we.Provider,{value:{user:a,setUser:c}},r.a.createElement(m.a,null,P?r.a.createElement("div",null,r.a.createElement("div",{className:"headBar"}),r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"spinner"}))):a?r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("div",{className:"headBar"}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(_,Object.assign({},e,{dialog:h,setDialog:g,activo:p,setActivo:f,fabricantes:$,modelos:q}))}}),r.a.createElement(d.a,{path:"/turnos",render:function(e){return r.a.createElement(x,Object.assign({},e,{setDialog:g,fabricantes:$,modelos:q}))}}),r.a.createElement(d.a,{path:"/presupuestos",render:function(e){return r.a.createElement(F,Object.assign({},e,{user:a.email,setDialog:g,setSnackbar:w,activo:p,setActivo:f,fabricantes:$,modelos:q}))}})),r.a.createElement(ke,{dialog:h,setDialog:g,setSnackbar:w,activo:p,setActivo:f,fabricantes:$,modelos:q}),r.a.createElement("div",{id:"snackbar",className:""!==N?"snackbar snackbar--show":"snackbar"},N)):r.a.createElement(O,{user:a,setUser:c})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,t,a){e.exports=a.p+"static/media/logo.ddd520e6.svg"},53:function(e,t,a){e.exports=a(110)},58:function(e,t,a){},60:function(e,t,a){},89:function(e,t){},92:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.68fbad5a.chunk.js.map